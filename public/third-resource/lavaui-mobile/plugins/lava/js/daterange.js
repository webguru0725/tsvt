!function(a){var e={init:function(e){var t=this,n=a(e),s=n.data("daterange"),r=s.options;n.combo({editable:r.editable,panelWidth:160,panelHeight:"auto",showArrow:!1});var o=n.combo("panel").addClass("daterange-dropdown");if(!r.locales.separator&&r.lang&&(r.locales=a.fn.daterange.lang[r.lang]),r.ranges){var i=[],l=r.ranges;for(var d in l)i.push("<a href='javascript:;' class='btn outline daterange-range' data-start='"+l[d][0]+"' data-end='"+l[d][1]+"'>"+d+"</a>");i.push("<a href='javascript:;' class='btn outline daterange-range custom'>"+r.locales.customRange+"</a>"),i.push("<a href='javascript:;' class='btn success apply'>"+r.locales.apply+"</a>"),i.push("<a href='javascript:;' class='btn outline warning cancel'>"+r.locales.cancel+"</a>");var c=a("<div class='daterange-btn-container'></div>");c.html(i.join("")),o.append(c)}var p=a("<div class='datecontainer'><div class='form-group'></div><div class='form-group'></div></div>").appendTo(o),u=a("<input type='text' class='form-control'>").appendTo(p.children().eq(0)),f=a("<input type='text' class='form-control'>").appendTo(p.children().eq(1));t.initDateBox(n,r,u,f),t.initEvent(n,r,o,u,f)},initDateBox:function(a,e,t,n){t.datetimebox({showTime:e.showTime,format:e.format,panelWidth:220,lang:a.data("daterange").options.lang}),n.datetimebox({showTime:e.showTime,format:e.format,panelWidth:220,lang:a.data("daterange").options.lang})},initEvent:function(e,t,n,s,r){var o=this,i=n.find(".datecontainer"),l=n.find(".daterange-range"),d=n.find(".apply"),c=n.find(".cancel");l.on("click",function(){var l=a(this);if(l.hasClass("custom")){i.show(),n.css({width:610});var d=e.val();d&&(s.datetimebox("setValue",d.split(" "+t.locales.separator+" ")[0]),r.datetimebox("setValue",d.split(" "+t.locales.separator+" ")[1]))}else{var c=parseInt(l.attr("data-start")),p=parseInt(l.attr("data-end")),u=new Date((new Date).getTime()+864e5*c),f=new Date((new Date).getTime()+864e5*p),m=o.formatDate(u,t.format.split(" ")[0]),g=o.formatDate(f,t.format.split(" ")[0]);t.showTime&&(m+=" 00:00:00",g+=" 23:59:59"),e.val(m+" "+t.locales.separator+" "+g),t.startDate=u,t.endDate=f,t.type="range",n.hide(),l.hasClass("outline")&&(n.find(".daterange-range").addClass("outline"),l.removeClass("outline")),t.startDate=m,t.endDate=g}}),d.on("click",function(){if(s.is(":visible")){var a=s.val(),o=r.val();if(a>o||!a||!o)return;e.val(a+" "+t.locales.separator+" "+o),n.find(".daterange-range").addClass("outline"),n.find(".custom").removeClass("outline"),t.startDate=a,t.endDate=o}t.type="custom",n.hide()}),c.on("click",function(){n.hide()}),e.on("click",function(){"custom"!=t.type?(n.css({width:160}),i.hide()):(l.addClass("outline"),n.find(".custom").removeClass("outline").click())})},formatDate:function(a,e){var t=this,n=a.getFullYear(),s=a.getMonth()+1,r=a.getDate();return e.replace("yyyy",n).replace("MM",t.round(s)).replace("dd",t.round(r))},round:function(a){return 10>a?"0"+a:a},setStartTime:function(e,t){var n=a(e),s=n.data("daterange").options;s.startDate=t,s.endDate&&n.val(t+" "+s.locales.separator+" "+s.endDate),s.type="custom"},setEndTime:function(e,t){var n=a(e),s=n.data("daterange").options;s.endDate=t,s.startDate&&n.val(s.startDate+" "+s.locales.separator+" "+t),s.type="custom"},clear:function(e){var t=a(e),n=t.data("daterange").options;n.startDate="",n.endDate="",t.val("")}};a.fn.daterange=function(t,n){return"string"==typeof t?a.fn.daterange.methods[t](this,n):void a.each(this,function(){var n={};a.extend(n,a.fn.combo.defaults),a.extend(n,a.fn.lavaCalendar.defaults),a.extend(n,a.fn.datetimebox.defaults),a.extend(n,a.fn.daterange.defaults),n.showTime&&a.extend(n,a.fn.timespinner.defaults),a.extend(n,t),a(this).data("daterange",{options:n}),e.init(this)})},a.fn.daterange.defaults={format:"yyyy-MM-dd hh:mm:ss",showTime:!0,panelHeight:"auto",editable:!0,startDate:"",endDate:"",locales:{},lang:"en-US"},a.fn.daterange.methods={setStartTime:function(a,t){e.setStartTime(a,t)},setEndTime:function(a,t){e.setEndTime(a,t)},getStartTime:function(e){return a(e).data("daterange").options.startDate},getEndTime:function(e){return a(e).data("daterange").options.endDate},clear:function(a){e.clear(a)}},a.fn.daterange.lang={"en-US":{separator:"to",apply:"apply",cancel:"cancel",customRange:"custom range"},"zh-CN":{separator:"至",apply:"应用",cancel:"取消",customRange:"自定义范围"},"zh-TW":{separator:"至",apply:"應用",cancel:"取消",customRange:"自定義範圍"},"pt-PT":{separator:"para",apply:"Aplicação",cancel:"Cancelar",customRange:"Escala personalizada"},af:{separator:"tot",apply:"toepassing",cancel:"Canceled",customRange:"Aangepast bereik"},fr:{separator:"à",apply:"appliquer",cancel:"annulé",customRange:"Gamme personnalisée"},jp:{separator:"に",apply:"適用する",cancel:"キャンセル",customRange:"カスタムレンジ"},ar:{separator:"إلى",apply:"تطبق",cancel:"إلغاء",customRange:"نطاق مخصص"}}}(jQuery);