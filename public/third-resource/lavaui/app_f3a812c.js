!function($,window){var $body=$("body"),app={ie8:/msie 8/.test(navigator.userAgent.toLowerCase()),init:function(){header.init(),sidebar.init(),button.init(),tabs.init(),modal.init(),checkbox.init(),popover.init(),layout.init(),lavaWindow.init(),lavaAlert.init()}},header={init:function(){$(".sidebar-toggle").on("click",function(){var t=$(".page-container");t.toggleClass("sidebar-collapsed"),t.hasClass("sidebar-collapsed")?$(".page-sidebar .sub-menu").hide():($(".page-sidebar .sub-menu").css({top:0}),$(".page-sidebar .active").next(".sub-menu").show()),app.ie8&&setTimeout(function(){$(".page-sidebar .nav-toggle").focus()},10)})}},sidebar={init:function(){$(".page-sidebar").delegate(".nav-link","click",function(){var t=$(this);t.hasClass("nav-toggle")||($(".page-sidebar .active").removeClass("active"),t.addClass("active")),t.parent().parent().hasClass("sub-menu")&&t.parent().parent().prev().addClass("active"),$(".page-container").hasClass("sidebar-collapsed")||t.hasClass("nav-toggle")&&(t.hasClass("open")?t.next("ul").slideToggle():($(".page-sidebar .open").removeClass("open").next("ul").hide(),t.next("ul").slideToggle()),t.toggleClass("open"),app.ie8&&($(".page-sidebar").hide(),$(".page-sidebar").show()))}),$("html").delegate(".sidebar-collapsed .page-sidebar .nav-toggle","mouseover mouseout",function(t){var e=$(this).next("ul");if("mouseover"==t.type){var a=$(this).offset().top-$(".page-sidebar").offset().top;e.show().css({top:a})}else e.hide()}),$("html").delegate(".sidebar-collapsed .page-sidebar .sub-menu","mouseover mouseout",function(t){"mouseover"==t.type?$(this).show():$(this).hide()})}},button={init:function(){$body.delegate(".dropdown-toggle","click",function(t){$(".btn-group.open").removeClass("open"),$(this).parent().toggleClass("open"),t.stopPropagation()}),$(document).on("click",function(){$(".btn-group.open").removeClass("open")})}},tabs={init:function(){$body.delegate(".tabs>li>a","click",function(e){var $this=$(this),$li=$this.parent(),$tab=$($this.attr("href"));if($li.hasClass("active")||($li.parent().children(".active").removeClass("active"),$tab.siblings(".active").removeClass("active"),$li.addClass("active"),$tab.addClass("active")),$this.parent().parent().attr("data-options")){var options=eval("({"+$this.parent().parent().attr("data-options")+"})");options.onSelect&&eval("("+options.onSelect+"('"+$this.attr("href")+"','"+$this.attr("id")+"'))")}e.preventDefault()})}},modal={init:function(){var t=this;$.fn.modal=function(e){t[e](this)},$body.delegate(".modal-header>.close, .modal, .modal-dialog","click",function(e){var a=$(this);a.hasClass("modal-dialog")?e.stopPropagation():a.hasClass("close")&&"modal"==a.attr("data-dismiss")?t.hide(a.closest(".modal")):a.hasClass("modal")&&!a.hasClass("no-backdrop")&&"static"!==a.attr("data-mask")&&t.hide(a)})},show:function(t){var e=$(t);if(!e.hasClass("no-backdrop")){if(!e.data("backdrop")){var a=$("<div class='modal-backdrop'></div>").appendTo("body");e.data("backdrop",a)}var a=e.data("backdrop");a.addClass("in")}e.fadeIn(),e.addClass("in")},hide:function(t){var e=$(t);e.fadeOut(),e.removeClass("in");var a=e.data("backdrop");a&&a.removeClass("in")}},checkbox={init:function(){/msie 8/.test(navigator.userAgent.toLowerCase())||$body.delegate(".checkbox","click",function(t){var e=$(t.target);if(e.hasClass("checkbox")||(e=e.parent()),!$(this).hasClass("checkbox-disabled")&&!$(this).children("input").attr("disabled")){var a=$(this).children("input[type=checkbox]");a.prop("checked")?a.prop("checked",!1):a.prop("checked",!0)}})}},popover={init:function(){var t=this;$body.delegate("[data-toggle=popover]","click mouseover mouseleave",function(e){var a=$(this),o=a.attr("data-title"),i=a.attr("data-content"),n=a.attr("data-trigger");(o||i)&&("hover"==n?"mouseover"==e.type?t.show(this):"mouseleave"==e.type&&t.hide(this):"click"==n&&"click"==e.type?a.data("popover")?t.hide(this):t.show(this):"focus"==n&&"click"==e.type&&(t.show(this),e.stopPropagation()))}),$body.on("click",function(){for(var e=$("[data-toggle=popover]"),a=0;a<e.length;a++)"click"!=e.eq(a).attr("data-trigger")&&t.hide(e[a])}),$.fn.popover=function(e){"string"==typeof e?t[e](this[0]):$.each(this,function(){t.initPopover(this,e)})}},initPopover:function(t,e){if(e.title||e.content){var a=$(t);a.attr({"data-toggle":"popover","data-title":e.title,"data-content":e.content,"data-trigger":e.trigger,"data-placement":e.placement})}},show:function(t){var e=$(t),a=e.attr("data-title"),o=e.attr("data-content"),i=(e.attr("data-trigger"),e.attr("data-placement")),n=e.offsetParent(),s=t.offsetLeft,l=t.offsetTop,r=e.outerWidth(),d=e.outerHeight();if((a||o)&&!e.data("popover")){i=i?i:"left";var c=$("<div class='popover "+i+"'><div class='popover-title'>"+a+"</div><div class='popover-content'>"+o+"</div><div class='arrow'></div></div>").appendTo(n);e.data("popover",c);var p=c.outerWidth(),h=c.outerHeight();switch(i){case"top":s=s+r/2-p/2,l=l-h-10;break;case"bottom":s=s+r/2-p/2,l=l+d+10;break;case"right":s=s+r+10,l=l+d/2-h/2;break;default:s=s-p-10,l=l+d/2-h/2}c.css({left:s,top:l})}},hide:function(t){var e=$(t),a=e.data("popover");a&&(a.remove(),e.removeData("popover"))}},layout={init:function(){var t=this;$.fn.layout=function(e){t.initLayout(this,e)}},initLayout:function(t,e){var a=this,o=$(t);$topPanel=o.children(".layout-top"),$leftPanel=o.children(".layout-left"),$centerPanel=o.children(".layout-center"),$rightPanel=o.children(".layout-right"),$bottomPanel=o.children(".layout-bottom"),top1=$topPanel.length>0?$topPanel.outerHeight()+12:12,left=$leftPanel.length>0?$leftPanel.width()+12:12,right=$rightPanel.length>0?$rightPanel.width()+12:12,bottom=$bottomPanel.length>0?$bottomPanel.height()+12:12,$leftPanel.css({top:top1,bottom:bottom}),$rightPanel.css({top:top1,bottom:bottom}),$centerPanel.css({top:top1,right:right,bottom:bottom,left:left}),o.addClass("layout"),$topPanel.attr("data-close")&&($topPanel.append("<div class='close'></div>"),o.append("<div class='open open-top'></div>")),$leftPanel.attr("data-close")&&($leftPanel.append("<div class='close'></div>"),$centerPanel.append("<div class='open open-left'></div>")),$rightPanel.attr("data-close")&&($rightPanel.append("<div class='close'></div>"),$centerPanel.append("<div class='open open-right'></div>")),$bottomPanel.attr("data-close")&&($bottomPanel.append("<div class='close'></div>"),o.append("<div class='open open-bottom'></div>")),a.resize(t,e);var i={topPanel:$topPanel,rightPanel:$rightPanel,bottomPanel:$bottomPanel,leftPanel:$leftPanel,centerPanel:$centerPanel,top:top1,right:right,bottom:bottom,left:left};a.initEvent(t,i,e)},resize:function(t,e){for(var a=$(t),o=a.children(".panel"),i=0;i<o.length;i++){var n=o.eq(i);if(n.is(":visible")){var s=n.children(".panel-header"),l=n.children(".panel-body");l.css({height:n.height()-s.height()})}}e&&e()},initEvent:function(t,e,a){var o=this,i=$(t),n=e.centerPanel;e.opentop=i.children(".open-top"),e.openright=n.children(".open-right"),e.openbottom=i.children(".open-bottom"),e.openleft=n.children(".open-left"),i.children(".panel").children(".close").on("click",function(){var i=$(this),s=i.parent();if(s[0].className.match(/top|right|bottom|left/)){var l=s[0].className.match(/top|right|bottom|left/)[0],r={},d={};r[l]=12,n.css(r),/top|bottom/.test(l)?(e.leftPanel.css(r),e.rightPanel.css(r),d[l]=-e[l+"Panel"].height()):d[l]=-e[l+"Panel"].width(),e[l+"Panel"].animate(d,function(){e[l+"Panel"].hide(),e["open"+l].show()}),o.resize(t,a)}}),i.find(".open").on("click",function(){var i=$(this);if(i[0].className.match(/top|right|bottom|left/)){var s=i[0].className.match(/top|right|bottom|left/)[0],l={},r={};l[s]=0,e[s+"Panel"].show().animate(l,function(){e["open"+s].hide(),/top|bottom/.test(s)?(r[s]=e[s+"Panel"].outerHeight()+12,e.leftPanel.css(r),e.rightPanel.css(r)):r[s]=e[s+"Panel"].width()+12,n.css(r),o.resize(t,a)})}}),$(window).on("resize",function(){o.resize(t,a)})}},lavaWindow={init:function(){var t=this;$.fn.window=function(e,a){"string"==typeof e?t[e](this,a):$.each(this,function(){var a={};$.extend(a,e),$(this).data("window",{options:a}),t.initWindow(this)})}},initWindow:function(t){var e=this,a=$(t),o=a.data("window").options,i={};for(var n in o)/^(top|right|bottom|left|width|height)$/.test(n)&&(i[n]=o[n]);o.hidden&&(css.display="none"),a.css(i).addClass("window"),o.draggable&&a.addClass("draggable"),o.closable&&a.children(".panel-header").append("<span class='close'>X</span>"),o.oldTop=a.offset().top,o.oldLeft=a.offset().left,e.initEvent(a,o)},initEvent:function(t,e){if(e.closable&&t.children(".panel-header").children(".close").on("mousedown click",function(a){"mousedown"==a.type?a.stopPropagation():(t.hide(),a.stopPropagation(),e.onClose&&e.onClose())}),e.draggable){var a,o,i,n,s=t.children(".panel-header"),l=(t.offsetParent(),!1);s.on("mousedown",function(s){var r=$("<div class='window-clone'></div>").appendTo($body);e.clone=r,r.css({width:t.width(),height:t.height(),top:e.oldTop,left:e.oldLeft}),a=s.offsetX,o=s.offsetY,i=s.clientX,n=s.clientY,l=!0}),$body.on("mousemove mouseleave mouseup",function(s){if(l&&"mousemove"==s.type){var r=s.clientX-a,d=s.clientY-o;e.clone.css({top:d,left:r})}else if(("mouseleave"==s.type||"mouseup"==s.type)&&e.clone){l=!1,e.clone.remove(),e.clone=null;var c=s.clientX-i,p=s.clientY-n;t.css({left:e.oldLeft+c,top:e.oldTop+p}),e.oldLeft+=c,e.oldTop+=p}})}},show:function(t){$(t).show()},hide:function(t){$(t).hide()}},lavaAlert={init:function(){$body.delegate(".alert>.close","click",function(){$(this).parent().remove()})}};app.init()}(jQuery,window);