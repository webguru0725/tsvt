!function(o){var i={init:function(i,n){var a=this,t=o(i),e=t.data("combo").options;if(n){var d=o("<span class='lavaui-combo-container'></span>");t.after(d),d.append(t)}else{var d=t.parent();d.children(".lavaui-combo-panel").remove()}var l=o("<div class='lavaui-combo-panel'></div>").appendTo(d),s=e.panelWidth?e.panelWidth:t.innerWidth();l.css({width:s,height:e.panelHeight}),"top"===e.panelLocation&&(l.addClass("top"),l.css({top:-(e.panelHeight+3)})),t.data("combo").panel=l,t.parent().children(".lavaui-combo-triangle")&&t.parent().children(".lavaui-combo-triangle").remove(),e.showArrow&&o("<span class='lavaui-combo-triangle'></span>").appendTo(d).css({top:t.innerHeight()/2-3}),a.initEvent(i),e.editable||t.prop("readonly",!0),e.disabled&&t.prop("disabled",!0)},initEvent:function(i){var n=o(i),a=n.data("combo").options,t=n.data("combo").panel,e=n.siblings(".lavaui-combo-triangle");n.on("click",function(o){a.disabled||n.attr("disabled")||(t.is(":visible")?t.hide():(null==a.panelWidth&&t.css("width",n.innerWidth()),t.show())),o.stopPropagation()}),a.showArrow&&e.on("click",function(o){a.disabled||n.attr("disabled")||(t.is(":visible")?t.hide():(null==a.panelWidth&&t.css("width",n.innerWidth()),t.show())),o.stopPropagation()}),t.on("click",function(o){o.stopPropagation()}),o(document).on("click",function(){t.hide()}),o("body").delegate(".modal-dialog","click",function(){t.hide()})}};o.fn.combo=function(n,a){return"string"==typeof n?o.fn.combo.methods[n](this,a):void o.each(this,function(){var a=!0;o(this).data("combo")&&o(this).data("combo").panel&&(a=!1);var t={};o.extend(t,o.fn.combo.defaults),o.extend(t,n),a?o(this).data("combo",{options:t}):o(this).data("combo").options=t,i.init(this,a)})},o.fn.combo.defaults={panelHeight:150,panelWidth:null,editable:!0,showArrow:!0,disabled:!1,panelLocation:"bottom"},o.fn.combo.methods={options:function(i){return o(i).data("combo").options},panel:function(i){return o(i).data("combo").panel}}}(jQuery,window);