!function(a){function e(e){var o=a(e);o.hide();var n=a(e).data("table").option,r=a(e).parent().height()-(n.pagination?40:0),s=n.columns;a(e).nextAll(".div-table").length>0&&a(e).nextAll(".div-table").remove(),a(e).nextAll(".div-pagination").length>0&&a(e).nextAll(".div-pagination").remove();var b=a("<div class='div-table' style='height:"+r+"px;'></div>").insertAfter(a(e));if(o.data("table").tableDiv=b,n.fit&&b.css({overflow:"hidden"}),0==n.frozenNumber){for(var v=a("<div class='div-head' style='width:100%;overflow:hidden;'></div>").appendTo(b),f=a("<div class='div-body' style='width:100%;overflow:auto;'></div>").appendTo(b),g=a("<div class='div-head-table' style='position:relative;'></div>").appendTo(v),u=a("<div class='div-body-table'></div>").appendTo(f),m=0,y=0;y<s.length;y++)m+=s[y].width+1;o.data("table").headDiv=v,o.data("table").bodyDiv=f,t(e,g),i(e,u)}else{for(var w=a("<div class='div-head1' style='float:left;'></div>").appendTo(b),x=a("<div class='div-head2' style='float:left;'></div>").appendTo(b),D=a("<div class='div-body1' style='float:left;'></div>").appendTo(b),k=a("<div class='div-body2' style='float:left;'></div>").appendTo(b),T=a("<div class='div-head-table1'></div>").appendTo(w),N=a("<div class='div-head-table2'></div>").appendTo(x),P=a("<div class='div-body-table1'></div>").appendTo(D),z=a("<div class='div-body-table2'></div>").appendTo(k),q=0,C=0,j=0,A=0,L=0,y=n.checkbox?1:0;y<s.length;y++)y<(n.checkbox?n.frozenNumber+1:n.frozenNumber)?(q+=s[y].width,j+=s[y].width):C+=s[y].width,L+=s[y].width;n.checkbox&&(q+=36,j+=36),C=C<b.width()-q-20?b.width()-q-20:C,j+=1,o.data("table").option.frozenWidth=q,A=parseInt(b.width()-j),w.css({width:j,overflow:"hidden"}),x.css({width:A,overflow:"hidden"}),D.css({width:j,overflow:"hidden"}),k.css({width:A,overflow:"auto"}),T.css({width:q}),N.css({width:C,left:-q-1,position:"relative"}),P.css({width:q,position:"relative"}),a(e).data("table").headDiv1=w,a(e).data("table").headDiv2=x,a(e).data("table").bodyDiv1=D,a(e).data("table").bodyDiv2=k,t(e,T,1),t(e,N,2),i(e,P,1),i(e,z,2)}if(n.columnToggle){var I=a(n.columnToggle);I.data("table",a(e));for(var S=a("<ul class='dropdown-menu pull-right'></ul>").appendTo(I.parent()),R=n.frozenNumber+(n.checkbox?1:0),y=R;y<s.length;y++)if("checkbox"!=s[y].field){var F=a("th[data-field="+s[y].field+"]").html();S.append("<li><a class='a-columntoggle' href='javascript:;' data-field='"+s[y].field+"'><span class='span-checkbox span-checkbox-checked'></span>&nbsp;"+F+"</a></li>")}}n.pagination&&d(e),n.url?c(e):n.data&&(n.pageNumber=1,n.firstPage=null,n.lastPage=null,0==n.frozenNumber?p(e,u):(o.data("table").bodyDiv1.children().children().find("tbody").empty(),o.data("table").bodyDiv2.children().children().find("tbody").empty(),p(e,P,1),p(e,z,2)),n.pagination&&l(e)),h(e)}function t(e,t){var i=a(e).data("table").option,d=i.columns,l=a(e).prop("id"),o=a("<table class='jq-table table table-bordered'></table>").appendTo(t),n=a("<thead></thead>").appendTo(o),r=a(e).children("thead");n.html(r.html());for(var s=n.children(),b=0;b<s.length;b++)for(var p=s.eq(b).children(),c=0;c<p.length;c++){var h=p.eq(c).attr("data-field");if(h){for(var v="<div class='table-"+l+"-"+h+"'>"+p.eq(c).html(),f=0;f<d.length;f++)d[f].field==h&&d[f].order&&("asc"==i.orderType?(v+=h==i.defaultOrderColumn?"<div class='table-angle table-angle-up table-angle-active'></div>":"<div class='table-angle table-angle-up'></div>",p.eq(c).attr("data-ordertype",i.orderType)):"desc"==i.orderType&&(v+=h==i.defaultOrderColumn?"<div class='table-angle table-angle-down table-angle-active'></div>":"<div class='table-angle table-angle-down'></div>",p.eq(c).attr("data-ordertype",i.orderType)));v+="</div>",p.eq(c).html(v)}}}function i(e,t,i){var d=a(e).data("table").option;if(a(e).prop("id"),2===i)var l=a("<table class='jq-table table table-bordered' style='border-left-width:0px;'></table>").appendTo(t);else var l=a("<table class='jq-table table table-bordered'></table>").appendTo(t);a("<tbody></tbody>").appendTo(l),d.striped&&l.addClass("table-striped")}function d(e){var t=a(e),i=t.data("table").option.lang,d=a("<div class='div-pagination'></div>").insertAfter(t.data("table").tableDiv),l=(a("<div style='float:left;padding-top:5px;' class='div-pagination-tip'>"+N[i].total+": <span class='span-total'></span>, "+N[i].from+" <span class='span-first'></span> "+N[i].to+" <span class='span-last'></span></div>").appendTo(d),a("<div style='float:right;' class='div-pagination-btn'></div>").appendTo(d)),o="<a href='javascript:;' class='page-first page-btn'>«</a><a href='javascript:;' class='page-pre page-btn'>···</a><div style='float:left;' class='div-pagebtn'><a href='javascript:;' class='page-btn'>1</a><a href='javascript:;' class='page-btn'>2</a><a href='javascript:;' class='page-btn'>3</a><a href='javascript:;' class='page-btn'>4</a><a href='javascript:;' class='page-btn'>5</a></div><a href='javascript:;' class='page-next page-btn'>···</a><a href='javascript:;' class='page-last page-btn'>»</a>";l.html(o),t.data("table").pageDiv=d}function l(e){var t=a(e),i=t.data("table").option,d=i.data,l=i.pageSize,o=i.pageNumber,n=d.total?Math.ceil(d.total/l):1,r=t.data("table").pageDiv,s=r.find(".div-pagebtn");t.data("table").option.totalPage=n,r.find(".span-total").html(d.total),r.find(".span-first").html(d.total>0?(o-1)*l+1:0),r.find(".span-last").html(n>o?o*l:d.total),i.firstPage&&1!=i.firstPage||(t.data("table").option.firstPage=1,t.data("table").option.lastPage=n>5?5:n);var b=t.data("table").option.firstPage,p=t.data("table").option.lastPage;1>=b&&r.find(".page-pre").hide(),p>=n&&r.find(".page-next").hide(),b>1&&r.find(".page-pre").show(),n>p&&r.find(".page-next").show(),5>n?(s.find(".page-btn").show(),s.find(".page-btn").eq(n-1).nextAll().hide()):s.find(".page-btn").show();for(var c=0;p-b+1>c;c++)s.find(".page-btn").eq(c).data("table",{page:b+c}),s.find(".page-btn").eq(c).html(b+c);for(var c=0;p-b+1>c;c++)s.find(".page-btn").eq(c).data("table").page==o?s.find(".page-btn").eq(c).addClass("page-select"):s.find(".page-btn").eq(c).removeClass("page-select")}function o(e,t){var i=a(e),d=i.data("table").option,o=d.pageNumber,n=d.firstPage,r=d.lastPage,s=d.totalPage;if(pageSpan=t-o,t!=o){if(i.data("table").option.pageNumber=t,s>5){var b=n,p=r;t-n>2&&s-r==1?(b+=1,p+=1):s-r>0&&t-n==3?(b+=1,p+=1):s-r>1&&t-n==4?(b+=2,p+=2):3>t-n&&2==n?(b-=1,p-=1):t-n==1&&n>0?(b-=1,p-=1):t-n==0&&n>1&&(b-=2,p-=2),i.data("table").option.firstPage=b,i.data("table").option.lastPage=p}l(e),c(e)}}function n(e){var t=a(e),i=t.data("table").option;1!=i.pageNumber&&(i.totalPage>5&&(t.data("table").option.firstPage=1,t.data("table").option.lastPage=5),t.data("table").option.pageNumber=1,l(e),c(e))}function r(e){var t=a(e).data("table").option;t.pageNumber!=t.totalPage&&(t.totalPage>5&&(a(e).data("table").option.firstPage=t.totalPage-4,a(e).data("table").option.lastPage=t.totalPage),a(e).data("table").option.pageNumber=t.totalPage,l(e),c(e))}function s(e){var t=a(e),i=t.data("table").option,d=i.firstPage;t.data("table").option.firstPage=i.firstPage>6?i.firstPage-5:1,t.data("table").option.lastPage=d>6?i.lastPage-5:i.lastPage-d+1,l(e)}function b(e){var t=a(e),i=t.data("table").option;t.data("table").option.firstPage=i.totalPage-i.lastPage>=5?i.firstPage+5:i.totalPage-4,t.data("table").option.lastPage=i.totalPage-i.lastPage>=5?i.lastPage+5:i.totalPage,l(e)}function p(e,t,i){var d=a(e),l=d.data("table").option,o=d.prop("id"),n=l.data,r=d.siblings(".div-table").find(".div-head,.div-head1"),s=t.children("tbody").empty(),b=n.rows;if(i){if(1==i)var p=l.columns.slice(0,l.checkbox?l.frozenNumber+1:l.frozenNumber);else if(2==i)var p=l.columns.slice(l.checkbox?l.frozenNumber+1:l.frozenNumber)}else var p=l.columns;var c=d.data("table").thArray;if(!c){c=[];for(var v=0;v<p.length;v++)c.push(r.find("th[data-field="+p[v].field+"]"));d.data("table").thArray=c}var f=[];for(v=0;v<c.length;v++)f.push(c[v].hasClass("column-hidden"));for(var g=[],v=0;v<b.length;v++){for(var u=[],m=0;m<p.length;m++){if(l.columnToggle)if(f[m])var y="<td class='column-hidden'>";else var y="<td>";else var y="<td>";var w="";w="checkbox"==p[m].field?"<label class='checkbox'><input type='checkbox'><span></span></label>":p[m].formatter?p[m].formatter(b[v][p[m].field],b[v],v):void 0===b[v][p[m].field]?"":b[v][p[m].field],y+="<div class='table-"+o+"-"+p[m].field+"'>"+w+"</div></td>",u.push(y)}b[v].lavaTableRowIndex=v,g.push("<tr class='table-row-"+v+"'>"+u.join("")+"</tr>")}s.html(g.join("")),setTimeout(function(){h(e)},1),i&&2!=i||!l.onLoadSuccess||l.onLoadSuccess(n)}function c(e){var t=a(e),i=t.data("table").option;if(!i.onBeforeLoad||i.onBeforeLoad()){if(t.data("table").option.formData[i.pageSizeField]=i.pageSize,t.data("table").option.formData[i.pageNumberField]=i.pageNumber,i.showLoader){var d=t.data("table").tableDiv,o=a("<div class='div-loader' style='width:100%;height:100%;'></div>").appendTo(d);a("<div class='lava-table-modal'></div>").appendTo(o),a("<div class='progress progress-striped active lava-progress'><div class='progress-bar'></div></div>").appendTo(o)}a.ajax({url:i.url,type:i.method,dataType:"json",data:i.formData}).done(function(a){i.showLoader&&o.remove(),t.data("table").option.data=i.loadFilter?i.loadFilter(a):a,0==i.frozenNumber?p(e,t.data("table").bodyDiv.children().children()):(t.data("table").bodyDiv1.children().children().find("tbody").empty(),t.data("table").bodyDiv2.children().children().find("tbody").empty(),p(e,t.data("table").bodyDiv1.children().children(),1),p(e,t.data("table").bodyDiv2.children().children(),2)),i.pagination&&l(e)}).fail(function(){i.showLoader&&o.remove(),t.data("table").option.data={total:0,rows:[]},0==i.frozenNumber?p(e,t.data("table").bodyDiv.children().children()):(t.data("table").bodyDiv1.children().children().find("tbody").empty(),t.data("table").bodyDiv2.children().children().find("tbody").empty(),p(e,t.data("table").bodyDiv1.children().children(),1),p(e,t.data("table").bodyDiv2.children().children(),2)),i.pagination&&l(e)})}}function h(e){var t=a(e).data("table").option,i=a(e);if(0==t.frozenNumber){if(t.fit){var d=i.parent().height(),l=i.data("table").headDiv.height(),o=d-l-(t.pagination?40:0);i.data("table").tableDiv.css({height:d-(t.pagination?40:0)}),i.data("table").bodyDiv.css({height:o})}var n="",r=t.columns,s=i.data("table").bodyDiv.children().width();setTimeout(function(){var a=i.data("table").bodyDiv.children().width();i.data("table").headDiv.css({width:a-0})},0);for(var b=0,p=0,c=i.prop("id"),h=0;h<r.length;h++)b+="checkbox"==r[h].field?36:r[h].width;for(var h=0;h<r.length;h++)p=s>b?parseInt(s/b*r[h].width)-17:r[h].width-17,n+=".table-"+c+"-"+r[h].field+"{width:"+p+"px;}";i.data("table").style&&i.data("table").style.remove();var v=a("<style type='text/css'>"+n+"</style>").insertAfter(i);i.data("table").style=v;var f=i.data("table").bodyDiv;f.css(s>b?{"overflow-x":"hidden"}:{"overflow-x":"auto"})}else{if(t.fit){var d=i.parent().height(),l=i.data("table").headDiv1.height(),o=d-l-(t.pagination?40:0);i.data("table").tableDiv.css({height:d-(t.pagination?40:0)}),i.data("table").bodyDiv1.css({height:o}),i.data("table").bodyDiv2.css({height:o})}for(var r=t.columns,p=1,h=0;h<(t.checkbox?t.frozenNumber+1:t.frozenNumber);h++)p+="checkbox"==r[h].field?36:r[h].width;i.data("table").headDiv2.css({width:parseInt(i.data("table").tableDiv.width()-p)-1}),i.data("table").bodyDiv2.css({width:parseInt(i.data("table").tableDiv.width()-p)-1});var g=i.data("table").bodyDiv1.find("tr"),u=i.data("table").bodyDiv2.find("tr");if(u.length>0)for(var h=0;h<g.length;h++){var o=g.eq(h).outerHeight()>u.eq(h).outerHeight()?g.eq(h).outerHeight():u.eq(h).outerHeight();o=Math.ceil(o),g.eq(h).css({height:o}),u.eq(h).css({height:o})}var p=0,b=0,m=i.data("table").bodyDiv2,c=i.prop("id"),y=i.data("table").headDiv2.find("thead"),n="<style type='text/css'>";if(y.find(".column-hidden").length,t.frozenNumber>0)for(var w=0,h=t.checkbox?t.frozenNumber+1:t.frozenNumber;h<r.length;h++)y.find(".table-"+c+"-"+r[h].field).parent().hasClass("column-hidden")||(w+=r[h].width);for(var h=0;h<r.length;h++)p=r[h].width-17,w<m.width()-18&&h>=(t.checkbox?t.frozenNumber+1:t.frozenNumber)&&(y.find(".table-"+c+"-"+r[h].field).parent().hasClass("column-hidden")?p=parseInt((m.width()-18)/w*r[h].width)-17:(p=parseInt((m.width()-18)/w*r[h].width)-17,b+=p)),"checkbox"!=r[h].field&&(n+=".table-"+c+"-"+r[h].field+"{width:"+p+"px;}");i.data("table").headDiv2.children().css("width",b),n+="</style>",i.data("table").style&&i.data("table").style.remove();var x=a(n).insertAfter(i);if(i.data("table").style=x,i.data("table").bodyDiv2.children().css({width:b-18}),/msie|trident[\s\S]*rv/.test(navigator.userAgent.toLowerCase())){var D=i.data("table").bodyDiv2;D.scroll()}}}function v(e,t){var i=a(e),d=i.prop("id");i.siblings(".div-table").find(".table-"+d+"-"+t).parent().removeClass("column-hidden"),h(e)}function f(e,t){var i=a(e),d=i.prop("id");i.siblings(".div-table").find(".table-"+d+"-"+t).parent().addClass("column-hidden"),h(e)}function g(e){a(window).resize(function(){setTimeout(function(){a(e).parent().is(":visible")&&h(e)},100)});var t=a(e),i=t.data("table").option;if(a(e).data("table").bodyDiv){var d=a(e).data("table").bodyDiv;d.on("scroll",function(){t.data("table").headDiv.children().css({left:-d.scrollLeft()})}),d.delegate("tr","mouseover mouseout",function(t){var i=a(this).prop("class");"mouseover"===t.type?a(e).siblings(".div-table").find("."+i).addClass("row-hover"):a(this).hasClass("row-hover")&&a(e).siblings(".div-table").find("."+i.split(" ")[0]).removeClass("row-hover")})}if(a(e).data("table").bodyDiv2){var l=t.data("table").bodyDiv1,p=t.data("table").bodyDiv2,g=t.data("table").headDiv2,i=t.data("table").option;p.on("scroll",function(){l.children().css({top:-p.scrollTop()}),g.children().css({left:-p.scrollLeft()-i.frozenWidth-1})}),l.delegate("tr","mouseover mouseout",function(t){var i=a(this).prop("class");"mouseover"===t.type?a(e).siblings(".div-table").find("."+i).addClass("row-hover"):a(this).hasClass("row-hover")&&a(e).siblings(".div-table").find("."+i.split(" ")[0]).removeClass("row-hover")}),p.delegate("tr","mouseover mouseout",function(t){var i=a(this).prop("class");"mouseover"===t.type?a(e).siblings(".div-table").find("."+i).addClass("row-hover"):a(this).hasClass("row-hover")&&a(e).siblings(".div-table").find("."+i.split(" ")[0]).removeClass("row-hover")})}if(t.data("table").pageDiv&&(t.data("table").pageDiv.find(".div-pagebtn").children().on("click",function(){a(this).data("table")&&o(e,a(this).data("table").page)}),t.data("table").pageDiv.find(".page-first").on("click",function(){n(e)}),t.data("table").pageDiv.find(".page-last").on("click",function(){r(e)}),t.data("table").pageDiv.find(".page-pre").on("click",function(){s(e)}),t.data("table").pageDiv.find(".page-next").on("click",function(){b(e)})),0==i.frozenNumber)var u=t.data("table").headDiv,m=t.data("table").bodyDiv;else var u=t.siblings(".div-table").find(".div-head1,.div-head2"),m=t.data("table").bodyDiv1;t.data("table").option.checkbox&&(u.find(".jq-table").find(".checkbox").on("click",function(){var e=a(this);setTimeout(function(){var a=e.children("input").prop("checked");m.find(".checkbox").children("input").prop("checked",a)},1)}),m.delegate(".checkbox","click",function(){setTimeout(function(){var a=m.find(".checkbox>input").length==m.find(".checkbox>input:checked").length?!0:!1;u.find(".jq-table>thead>tr>th .checkbox>input").prop("checked",a)},1)})),a("body").delegate(".a-columntoggle","click",function(){var t=a(this).children(".span-checkbox");if(1==t.parent().parent().parent().find(".span-checkbox-checked").length&&t.hasClass("span-checkbox-checked"))return!1;t.toggleClass("span-checkbox-checked");var i=a(this).attr("data-field");return a(this).parent().parent().data("table"),t.hasClass("span-checkbox-checked")?v(e,i):f(e,i),!1}),i.frozenNumber>0&&(u=t.siblings(".div-table").find(".div-head1,.div-head2")),u.delegate("th[data-ordertype]","click",function(){var i=a(this).find(".table-angle"),d=t.data("table").option.formData,l=a(this).attr("data-field");i.hasClass("table-angle-up")?i.hasClass("table-angle-active")?(i.removeClass("table-angle-up").addClass("table-angle-down"),d.orderType="desc"):d.orderType="asc":i.hasClass("table-angle-down")&&(i.hasClass("table-angle-active")?(i.removeClass("table-angle-down").addClass("table-angle-up"),d.orderType="asc"):d.orderType="desc"),u.find(".table-angle-active").removeClass("table-angle-active"),i.addClass("table-angle-active"),d.orderField=l,c(e)})}function u(e){a("div.page-content").length>0&&(a("div.page-content").hasClass("div-noprint")||(a("div.page-content").addClass("div-noprint"),a("body").append("<style>.div-print{display: none;} @media print {.div-noprint{display: none;} .div-print{display: block;}}.table-print{border-collapse:collapse;border-spacing:0;text-align:center;}.table-print td,.table-print th{border:1px solid #ddd;font-weight:normal;}</style>"))),a("div.container").length>0&&(a("div.container").hasClass("div-noprint")||(a("div.container").addClass("div-noprint"),a("body").append("<style>.div-print{display: none;} @media print {.div-noprint{display: none;} .div-print{display: block;}}.table-print{border-collapse:collapse;border-spacing:0;text-align:center;}.table-print td,.table-print th{border:1px solid #ddd;font-weight:normal;}</style>")));var t=m(e),i=y(e);a(".div-print").length>0?a(".div-print").html("<table cellspacing='0' cellpadding='0' class='table-print' style='width:100%;font-size:12px;'>"+t+i+"</table>"):a("body").append("<div class='div-print'><table cellspacing='0' cellpadding='0' class='table-print' style='width:100%;font-size:12px;'>"+t+i+"</table></div>"),setTimeout(function(){window.print()},10)}function m(e){var t=a(e).nextAll(".div-table"),i=t.children(".div-head1"),d=t.children(".div-head2"),l=[],o=[];if(i.length>0){for(var n=i.find("th"),r=d.find("th"),s=0;s<n.length;s++)if(n.eq(s).is(":visible")){var b=n.eq(s).children("div").html();o.push("<th>"+b+"</th>")}if(d.length>0)for(s;s<r.length;s++)if(r.eq(s).is(":visible")){var b=r.eq(s).children("div").html();o.push("<th>"+b+"</th>")}}else for(var p=t.children(".div-head"),c=p.find("th"),s=0;s<c.length;s++)if(c.eq(s).is(":visible")){var b=c.eq(s).children("div").html();o.push("<th>"+b+"</th>")}return l.push("<tr>"+o.join("")+"</tr>"),"<thead>"+l.join("")+"</thead>"}function y(e){var t=[],i=a(e).nextAll(".div-table"),d=i.children(".div-body1"),l=i.children(".div-body2"),o=i.children(".div-body");if(d.length>0)for(var n=d.find("tr"),r=l.find("tr"),s=0;s<n.length;s++){for(var b=[],p=n.eq(s).children("td"),c=r.eq(s).children("td"),h=0;h<p.length;h++)if(p.eq(h).is(":visible")){var v=p.eq(h).children("div").html();b.push("<td>"+v+"</td>")}if(c.length>0)for(var h=0;h<c.length;h++)if(c.eq(h).is(":visible")){var f=c.eq(h).children("div").html();b.push("<td>"+f+"</td>")}t.push("<tr>"+b.join("")+"</tr>")}else for(var g=o.find("tr"),s=0;s<g.length;s++){for(var b=[],u=g.eq(s).children("td"),h=0;h<u.length;h++)if(u.eq(h).is(":visible")){var m=u.eq(h).children("div").html();b.push("<td>"+m+"</td>")}t.push("<tr>"+b.join("")+"</tr>")}return"<tbody>"+t.join("")+"</tbody>"}function w(e,t){for(var i=a(e),d=i.data("table").option,l=d.data.rows,o=0;o<l.length;o++){var n=x(t,l[o]);if(n)return l[o].lavaTableRowIndex}return null}function x(a,e){var t=!0;for(var i in a)e.hasOwnProperty(i)?e[i]!==a[i]&&(t=!1):t=!1;return t}function D(e,t,i){var d=a(e),l=d.data("table"),o=l.option,n=o.columns,r=o.data.rows,s=d.prop("id");if(null===t.index||void 0===t.index)return void(console.error&&console.error("请指定行号"));var b=parseInt(t.index);if(i){var p=l["bodyDiv"+i].find(".table-row-"+b);if(1===i)var n=o.columns.slice(0,o.checkbox?o.frozenNumber+1:o.frozenNumber);else if(2===i)var n=o.columns.slice(o.checkbox?o.frozenNumber+1:o.frozenNumber)}else var n=o.columns;for(var c=0;c<n.length;c++)p.find(".table-"+s+"-"+attr).html(n[c].formatter?n[c].formatter(t.row[attr],t.row,b):t.row[attr]);t.row.lavaTableRowIndex=t.index,r[b]=t.row}function k(e,t,i,d){var l=a(e),o=l.data("table").option,n=(l.data("table"),o.columns),r=(o.data.rows,o.data.total),s=l.prop("id");if(i){if(1==i)var n=o.columns.slice(0,o.checkbox?o.frozenNumber+1:o.frozenNumber);else if(2==i)var n=o.columns.slice(o.checkbox?o.frozenNumber+1:o.frozenNumber)}else var n=o.columns;for(var b=[],p=0;p<n.length;p++){if(o.columnToggle)if(hiddenArray[j])var c="<td class='column-hidden'>";else var c="<td>";else var c="<td>";var h="";h="checkbox"==n[p].field?"<label class='checkbox'><input type='checkbox'><span></span></label>":n[p].formatter?n[p].formatter(d[n[p].field],d,r):void 0===d[n[p].field]?"":d[n[p].field],c+="<div class='table-"+s+"-"+n[p].field+"'>"+h+"</div></td>",b.push(c)}if(b.length>0){var v="<tr class='table-row-"+r+"'>"+b.join("")+"</tr>";i&&2!==i||(o.data.total+=1,d.lavaTableRowIndex=r,o.data.rows.push(d)),t.find("tbody").append(v)}}function T(e,t){var i=a(e),d=i.data("table").tableDiv,l=i.data("table").option.data.rows;d.find(".table-row-"+t).remove();for(var o=0;o<l.length;o++)t==l[o].lavaTableRowIndex&&l.splice(o,1)}a.fn.table=function(t,i){return"string"==typeof t?a.fn.table.methods[t](this,i):this.each(function(){a(this).data("table")&&a(this).data("table").option||a(this).data("table",{option:a.extend({},a.fn.table.defaults)}),a.extend(a(this).data("table").option,t),a.extend(N,a(this).data("table").option.footLanguage),e(this),g(this)})},a.fn.table.defaults={url:"",method:"post",pagination:!0,pageSize:20,pageNumber:1,pageSizeField:"rows",pageNumberField:"page",footLanguage:{},nowrap:!0,striped:!0,rownumbers:!1,formData:{},frozenNumber:0,lang:"zh-CN",fit:!1,checkbox:!1,showLoader:!0,data:{total:0,rows:[]},onBeforeLoad:null,onLoadSuccess:null},a.fn.table.methods={load:function(e,t){var i=a(e);i.data("table").option.formData=t,i.data("table").option.pageNumber=1,i.data("table").option.firstPage=null,i.data("table").option.lastPage=null,c(e)},reload:function(a){c(a)},loadData:function(e,t){var i=a(e),d=i.data("table").option;i.data("table").option.data=t,i.data("table").option.pageNumber=1,i.data("table").option.firstPage=null,i.data("table").option.lastPage=null,0==d.frozenNumber?p(e,i.data("table").bodyDiv.children().children()):(i.data("table").bodyDiv1.children().children().find("tbody").empty(),i.data("table").bodyDiv2.children().children().find("tbody").empty(),p(e,i.data("table").bodyDiv1.children().children(),1),p(e,i.data("table").bodyDiv2.children().children(),2)),d.pagination&&l(e)},getChecked:function(e){for(var t=a(e),i=t.data("table").tableDiv,d=t.data("table").option.data.rows,l=[],o=i.find("td .checkbox input[type='checkbox']"),n=0;n<d.length;n++)o.eq(n).prop("checked")&&l.push(d[o.eq(n).parent().parent().parent().parent().index()]);return l},options:function(e){return a(e).data("table").option},resize:function(a){h(a)},print:function(a){u(a)},updateRow:function(e,t){var i=a(e);i.data("table").bodyDiv2?(D(e,t,1),D(e,t,2)):D(e,t),window.setTimeout(function(){h(e)},1)},getRowIndex:function(a,e){return w(a,e)},appendRow:function(e,t){var i=a(e);i.data("table").bodyDiv?(k(e,i.data("table").bodyDiv,null,t),window.setTimeout(function(){h(e)},1)):(k(e,i.data("table").bodyDiv1,1,t),k(e,i.data("table").bodyDiv2,2,t),window.setTimeout(function(){h(e)},1))},deleteRow:function(a,e){T(a,e)}};var N={"zh-CN":{total:"总共",from:"显示",to:"到"},"en-US":{total:"Total",from:"displaying from",to:"to"},"zh-TW":{total:"總共",from:"顯示",to:"到"},"pt-PT":{total:"Total de",from:"Exibindo",to:"para"},af:{total:"van",from:"Wys",to:"tot"},am:{total:"-ը",from:"Դիտել",to:"-ից"},fr:{total:"au",from:"Affichage de",to:"et"},jp:{total:"全",from:"アイテム中",to:"から"},"pt-br":{total:"de",from:"Mostrando",to:"a"},ca:{total:"de",from:"Veient",to:"a"}}}(jQuery);