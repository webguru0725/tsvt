!function(a){var c={init:function(c){var g=this,h=a(c),v=h.data("daterange"),D=v.options;h.combo({editable:D.editable,panelWidth:160,panelHeight:"auto",showArrow:!1});var y=h.combo("panel").addClass("daterange-dropdown");if(!D.locales.separator&&D.lang&&(D.locales=a.fn.daterange.lang[D.lang]),D.ranges){var C=[],T=D.ranges;for(var i in T)C.push("<a href='javascript:;' class='btn outline daterange-range' data-start='"+T[i][0]+"' data-end='"+T[i][1]+"'>"+i+"</a>");C.push("<a href='javascript:;' class='btn outline daterange-range custom'>"+D.locales.customRange+"</a>"),C.push("<a href='javascript:;' class='btn success apply'>"+D.locales.apply+"</a>"),C.push("<a href='javascript:;' class='btn outline warning cancel'>"+D.locales.cancel+"</a>");var w=a("<div class='daterange-btn-container'></div>");w.html(C.join("")),y.append(w)}var b=a("<div class='datecontainer'><div class='form-group'></div><div class='form-group'></div></div>").appendTo(y),M=a("<input type='text' class='form-control'>").appendTo(b.children().eq(0)),S=a("<input type='text' class='form-control'>").appendTo(b.children().eq(1));g.initDateBox(h,D,M,S),g.initEvent(h,D,y,M,S)},initDateBox:function(a,c,g,h){g.datetimebox({showTime:c.showTime,format:c.format,panelWidth:220,lang:a.data("daterange").options.lang,onLoadDateSuccess:c.onLoadDateSuccess,onMonthChange:c.onMonthChange}),h.datetimebox({showTime:c.showTime,format:c.format,panelWidth:220,lang:a.data("daterange").options.lang,onLoadDateSuccess:c.onLoadDateSuccess,onMonthChange:c.onMonthChange})},initEvent:function(c,g,h,v,D){var y=this,C=h.find(".datecontainer"),T=h.find(".daterange-range"),w=h.find(".apply"),b=h.find(".cancel");T.on("click",function(){var T=a(this);if(T.hasClass("custom")){C.show(),h.css({width:610});var w=c.val();w&&(v.datetimebox("setValue",w.split(" "+g.locales.separator+" ")[0]),D.datetimebox("setValue",w.split(" "+g.locales.separator+" ")[1]))}else{var b=parseInt(T.attr("data-start")),M=parseInt(T.attr("data-end")),S=new Date((new Date).getTime()+864e5*b),R=new Date((new Date).getTime()+864e5*M),k=y.formatDate(S,g.format.split(" ")[0]),j=y.formatDate(R,g.format.split(" ")[0]);g.showTime&&(k+=" 00:00:00",j+=" 23:59:59");var E=c.val();c.val(k+" "+g.locales.separator+" "+j),g.onChange&&g.onChange(E,k+" "+g.locales.separator+" "+j),g.startDate=S,g.endDate=R,g.type="range",h.hide(),T.hasClass("outline")&&(h.find(".daterange-range").addClass("outline"),T.removeClass("outline")),g.startDate=k,g.endDate=j}}),w.on("click",function(){if(v.is(":visible")){var a=v.val(),y=D.val();if(a>y||!a||!y)return;var C=c.val();c.val(a+" "+g.locales.separator+" "+y),g.onChange&&g.onChange(C,a+" "+g.locales.separator+" "+y),h.find(".daterange-range").addClass("outline"),h.find(".custom").removeClass("outline"),g.startDate=a,g.endDate=y}g.type="custom",h.hide()}),b.on("click",function(){h.hide()}),c.on("click",function(){"custom"!=g.type?(h.css({width:160}),C.hide()):(T.addClass("outline"),h.find(".custom").removeClass("outline").click())})},formatDate:function(a,c){var g=this,h=a.getFullYear(),v=a.getMonth()+1,D=a.getDate();return c.replace("yyyy",h).replace("MM",g.round(v)).replace("dd",g.round(D))},round:function(a){return 10>a?"0"+a:a},setStartTime:function(c,g){var h=a(c),v=h.data("daterange").options;v.startDate=g,v.endDate&&h.val(g+" "+v.locales.separator+" "+v.endDate),v.type="custom"},setEndTime:function(c,g){var h=a(c),v=h.data("daterange").options;v.endDate=g,v.startDate&&h.val(v.startDate+" "+v.locales.separator+" "+g),v.type="custom"},clear:function(c){var g=a(c),h=g.data("daterange").options;h.startDate="",h.endDate="",g.val("")}};a.fn.daterange=function(g,h){return"string"==typeof g?a.fn.daterange.methods[g](this,h):void a.each(this,function(){var h={};a.extend(h,a.fn.combo.defaults),a.extend(h,a.fn.lavaCalendar.defaults),a.extend(h,a.fn.datetimebox.defaults),a.extend(h,a.fn.daterange.defaults),h.showTime&&a.extend(h,a.fn.timespinner.defaults),a.extend(h,g),a(this).data("daterange",{options:h}),a.extend(a.fn.lavaCalendar.locales,a(this).data("daterange").options.weekMonth),c.init(this)})},a.fn.daterange.defaults={format:"yyyy-MM-dd hh:mm:ss",showTime:!0,panelHeight:"auto",editable:!0,startDate:"",endDate:"",weekMonth:{},locales:{},lang:"en-US",onLoadDateSuccess:null,onChange:null},a.fn.daterange.methods={setStartTime:function(a,g){c.setStartTime(a,g)},setEndTime:function(a,g){c.setEndTime(a,g)},getStartTime:function(c){return a(c).data("daterange").options.startDate},getEndTime:function(c){return a(c).data("daterange").options.endDate},clear:function(a){c.clear(a)}},a.fn.daterange.lang={"en-US":{separator:"to",apply:"apply",cancel:"cancel",customRange:"custom range"},"zh-CN":{separator:"至",apply:"应用",cancel:"取消",customRange:"自定义范围"},"zh-TW":{separator:"至",apply:"應用",cancel:"取消",customRange:"自定義範圍"},"pt-PT":{separator:"para",apply:"Aplicação",cancel:"Cancelar",customRange:"Escala personalizada"},af:{separator:"tot",apply:"toepassing",cancel:"Canceled",customRange:"Aangepast bereik"},fr:{separator:"à",apply:"appliquer",cancel:"annulé",customRange:"Gamme personnalisée"},jp:{separator:"に",apply:"適用する",cancel:"キャンセル",customRange:"カスタムレンジ"},ar:{separator:"إلى",apply:"تطبق",cancel:"إلغاء",customRange:"نطاق مخصص"}}}(jQuery);