var lavaPlayBar={init:function(a){var e=this,t=$(a),l=t.data("playbar").options;t.addClass("lava-playbar");var r=$("<div class='lava-playbar-head' style='background:"+l.headerBgColor+";border-bottom:1px solid "+l.headerColor+";'></div>").appendTo(t),o=$("<div class='lava-playbar-btns'></div>").appendTo(r),i=($("<canvas class='lava-playbar-zoomout' width='50' height='40'></canvas>").appendTo(o),$("<canvas class='lava-playbar-zoomin' width='50' height='40'></canvas>").appendTo(o),$("<div class='lava-playbar-time'></div>").appendTo(r)),n=$("<div class='lava-playbar-timewrapper'></div>").appendTo(i),s=$("<canvas width='1000' height='40'></canvas>").appendTo(n);t.data("playbar").timeCanvas=s;var d=$("<div class='lava-playbar-body' style='background:"+l.bgColor+";'></div>").appendTo(t),m=$("<div class='lava-playbar-channelwrapper' stylel='background:"+l.channelWrapperBgColor+";'></div>").appendTo(d),v=$("<div class='lava-playbar-datawrapper'></div>").appendTo(d),p=$("<div class='lava-playbar-channels'><div>").appendTo(m),c=$("<div class='lava-playbar-linenames' style='background:"+l.channelBgColor+";'></div>").appendTo(m);t.data("playbar").lineNames=c;var f=$("<div class='lava-playbar-lines'></div>").appendTo(v),b=$("<canvas></canvas>").appendTo(f);t.data("playbar").lineCanvas=b;{var h=$("<div class='lava-playbar-data'></div>").appendTo(v),y=$("<canvas></canvas>").appendTo(h),T=$("<div class='lava-playbar-rightrollbar' style='background:"+l.rollbarWrapperColor+";'><div>").appendTo(d);$("<div class='lava-playbar-up'></div>").appendTo(T),$("<div class='lava-playbar-down'></div>").appendTo(T),$("<div class='lava-playbar-rightbar' style='background:"+l.rollbarColor+";'></div>").appendTo(T)}y[0].width=i.width(),t.data("playbar").dataCanvas=y;var u=$("<div class='lava-playbar-bottomrollbar' style='background:"+l.rollbarWrapperColor+";'></div>").appendTo(t),g=($("<div class='lava-playbar-bottomprev'></div>").appendTo(u),$("<div class='lava-playbar-bottomnext'></div>").appendTo(u),$("<div class='lava-playbar-bottombar' style='background:"+l.rollbarColor+";'></div>").appendTo(u),"<style>.lava-playbar-up:before {border-color:transparent transparent "+l.rollbarAngleColor+" transparent;}\n.lava-playbar-down:before {border-color:"+l.rollbarAngleColor+" transparent transparent transparent;}\n.lava-playbar-bottomprev:before {border-color:transparent "+l.rollbarAngleColor+" transparent transparent;}\n.lava-playbar-bottomnext:before {border-color:transparent transparent transparent "+l.rollbarAngleColor+";}\n.lava-playbar-bottombar:hover,.lava-playbar-rightbar:hover {background:"+l.rollbarHoverColor+" !important;}\n</style>"),L=$(g).appendTo(t);t.data("playbar").style=L;var z=$("<div class='lava-playbar-line'></div>").appendTo(t);t.data("playbar").line=z;var w=$("<div class='lava-playbar-timelabel'></div>").appendTo(t),C=$("<canvas class='lava-playbar-timelabelcanvas' width='50' height='13' style='position:absolute;z-index:1;'></canvas>").appendTo(w);t.data("playbar").timeLabel=w,t.data("playbar").timeLabelCanvas=C;var D=$("<div class='lava-playbar-point'></div>").appendTo(t),W=$("<canvas width='150' height='95' class='lava-playbar-pointcanvas'></canvas>").appendTo(D);t.data("playbar").point=D,t.data("playbar").pointCanvas=W;for(var B=0;4>B;B++)p.append("<div class='lava-playbar-channel' style='background:"+l.channelBgColor+";color:"+l.channelColor+";'></div>");e.drawZoomBtn(a,"zoomout","mouseout"),e.drawZoomBtn(a,"zoomin","mouseout"),e.loadTimeLabel(a)},drawZoomBtn:function(a,e,t){var l=$(a),r=l.data("playbar").options,o=l.find(".lava-playbar-"+e)[0].getContext("2d");o.clearRect(0,0,50,40);var i="mouseout"==t?r.btnColor:"#fff";"mouseover"==t?(o.fillStyle=r.btnColor,o.fillRect(8,8,34,24)):(o.strokeStyle=r.btnColor,o.lineWidth=1,o.strokeRect(8.5,8.5,34,24)),o.strokeStyle=i,o.lineWidth=1.2,o.beginPath(),o.arc(19,19,7,0,2*Math.PI),o.stroke(),o.fillStyle=i,o.fillRect(15,19,8,1),"zoomout"==e&&o.fillRect(19,15,1,8),o.beginPath(),o.moveTo(24,23),o.lineTo(34,30),o.lineWidth=3,o.stroke()},loadData:function(a,e){var t=this,l=$(a),r=l.data("playbar").options;"channel"==r.type?r.data=e:r.lineData=e;var o=l.find(".lava-playbar-rightbar"),i=l.find(".lava-playbar-data"),n=l.find(".lava-playbar-channels");i.css({top:0}),o.css({top:15}).hide(),n.css({top:0}),"channel"==r.type?(e.length>4&&(o.css({height:4/e.length*65}).show(),setTimeout(function(){o.hide(),setTimeout(function(){o.show()},100)},100)),t.loadChannelNum(a),t.loadChannelData(a)):"line"==r.type&&(t.loadLineType(a),t.loadLineData(a))},changeType:function(a,e){var t=this,l=$(a),r=l.find(".lava-playbar-channels"),o=l.find(".lava-playbar-data"),i=l.find(".lava-playbar-linenames"),n=l.find(".lava-playbar-lines"),s=l.data("playbar").point,d=l.data("playbar").options;if(e!=d.type)if("channel"==e)r.show(),o.show(),i.hide(),n.hide(),s.hide(),d.type=e,d.data&&(t.loadChannelNum(a),t.loadChannelData(a));else if("line"==e&&(i.show(),n.show(),r.hide(),o.hide(),l.find(".lava-playbar-rightbar").hide(),d.type=e,d.lineData)){t.loadLineType(a),t.loadLineData(a);var m=(d.currentTime-d.startTime)/864e5*d.zoomLevel*d.timeWidth+100;t.loadTimeLabel(a,m)}},loadLineType:function(a){var e=$(a),t=e.find(".lava-playbar-linenames"),l=e.find(".lava-playbar-data"),r=e.data("playbar").options,o=r.lineData;t.empty(),l.css({top:0});for(var i=0;i<o.length;i++)t.append("<div class='lava-playbar-linename' style='color:"+o[i].color+"'>"+o[i].name+"</div>")},loadLineData:function(a){var e=$(a),t=e.data("playbar").options,l=e.find(".lava-playbar-linenames"),r=l.children(),o=(e.find(".lava-playbar-lines"),e.data("playbar").lineCanvas[0]);o.width=t.timeWidth;var i=o.getContext("2d");i.lineWidth=1.5;for(var n=t.lineData,s=0;s<n.length;s++){for(var d=!1,m=0;m<r.length;m++)if(r.eq(m).text()==n[s].name&&r.eq(m).hasClass("lava-playbar-linename-disable")){d=!0;break}if(!d){var v=n[s].data;i.strokeStyle=n[s].color?n[s].color:"#fff",i.lineJoin="round";for(var p=t.startTime+864e5/t.zoomLevel,c=!1,f=864e5/t.zoomLevel,m=(Math.ceil(1*v.length/t.timeWidth/t.zoomLevel),0);m<v.length;m++){var b=v[m].time;if(0==m&&b>=t.startTime||b<=t.startTime&&v[m+1]&&v[m+1].time>t.startTime?(i.beginPath(),t.time=b,i.moveTo((b-t.startTime)/f*t.timeWidth,95-95*(v[m].value/120)),c=!0):(b>=t.startTime&&p>=b||b>p&&v[m-1]&&v[m-1].time<p)&&i.lineTo(parseInt((b-t.startTime)/f*t.timeWidth)+.5,95-95*(v[m].value/120)),c&&(b>=p&&v[m-1]&&v[m-1].time<p||m==v.length-1)){i.stroke();break}}}}},loadChannelNum:function(a){var e=$(a),t=e.data("playbar").options,l=t.data,r=e.find(".lava-playbar-channels");r.empty();for(var o=0;o<l.length;o++)r.append("<div class='lava-playbar-channel' style='background:"+t.channelBgColor+";color:"+t.channelColor+";'>"+l[o].name+"</div>");if(l.length<4)for(var o=0;o<4-l.length;o++)r.append("<div class='lava-playbar-channel' style='background:"+t.channelBgColor+";color:"+t.channelColor+";'></div>")},loadChannelData:function(a){var e=$(a),t=e.data("playbar").options,l=t.data,r=t.timeWidth,o=t.startTime+864e5/t.zoomLevel,i=e.data("playbar").dataCanvas[0],n=i.getContext("2d");if(l){i.height=24*l.length;for(var s=0;s<l.length;s++){var d=l[s].channel;n.clearRect(0,24*s+4,r,14);for(var m=0;m<d.length;m++)if(n.fillStyle="normal"==d[m].type?t.normalColor:t.alarmColor,d[m].startTime<=t.startTime&&d[m].endTime>t.startTime&&d[m].endTime<=o)n.fillRect(0,24*s+6,(d[m].endTime-t.startTime)/864e5*t.zoomLevel*r,12);else if(d[m].startTime>=t.startTime&&d[m].endTime<=o)n.fillRect((d[m].startTime-t.startTime)/864e5*t.zoomLevel*r,24*s+6,(d[m].endTime-d[m].startTime)/864e5*t.zoomLevel*r,12);else if(d[m].startTime>=t.startTime&&d[m].endTime>o)n.fillRect((d[m].startTime-t.startTime)/864e5*t.zoomLevel*r,24*s+6,(o-t.startTime)/864e5*t.zoomLevel*r,12);else if(d[m].startTime<t.startTime&&d[m].endTime>o)n.fillRect(0,24*s+6,r,12);else if(d[m].endTime<t.startTime&&d[m].startTime>o)break;n.fillStyle="#eee",n.fillRect(0,24*s+24,r,1)}}},drawTime:function(a){var e=this,t=a.data("playbar").options,l=a.find(".lava-playbar-time"),r=a.find(".lava-playbar-timewrapper"),o=a.find(".lava-playbar-bottombar"),i=r.children("canvas")[0],i=a.data("playbar").timeCanvas[0],n=l.width();t.timeWidth=n,r.css({width:n}),i.width=n,n*=t.zoomLevel;var s=0,d=0,m=i.getContext("2d");n-=1,1==t.zoomLevel?o.hide():o.show(),1==t.zoomLevel?(d=24,s=n/24):/^(2|4)$/.test(t.zoomLevel)?(d=144,s=n/144):8==t.zoomLevel?(d=720,s=n/720):24==t.zoomLevel?(d=1440,s=n/1440):48==t.zoomLevel?(d=2880,s=n/2880):144==t.zoomLevel?(d=8640,s=n/8640):288==t.zoomLevel?(d=8640,s=n/8640):1440==t.zoomLevel&&(d=43200,s=n/d),m.fillStyle=t.headerColor;var v=s-parseInt(t.startTime)%parseInt(864e5/d)/parseInt(864e5/d)*s;v=v==s?0:v;var p=parseInt(864e5/d)-parseInt(t.startTime)%parseInt(864e5/d);p=p==864e5/d?0:p;for(var c=0;90>=c;c++){var f=parseInt(v+c*s);if(m.fillRect(f,30,1,10),1==t.zoomLevel&&c%2==0&&c>0)m.fillText(e.round(c)+":00",24==c?f-28:f-14,28);else if(2==t.zoomLevel&&parseInt((10*c*60*1e3+t.startTime+p)/6e5)%6==0){var b=e.getTime(10*c*60*1e3+t.startTime+p);m.fillText(b,"24:00"==b?f-28:f-14,28)}else if(4==t.zoomLevel&&parseInt((10*c*60*1e3+t.startTime+p)/6e5)%6==0){var b=e.getTime(10*c*60*1e3+t.startTime+p);m.fillText(b,"24:00"==b?f-28:f-14,28)}else if(8==t.zoomLevel&&parseInt((2*c*60*1e3+t.startTime+p)/12e4)%10==0){var b=e.getTime(2*c*60*1e3+t.startTime+p);m.fillText(b,"24:00"==b?f-28:f-14,28)}else if(24==t.zoomLevel&&parseInt((60*c*1e3+t.startTime+p)/6e4)%6==0){var b=e.getTime(60*c*1e3+t.startTime+p);m.fillText(b,"24:00"==b?f-28:f-14,28)}else if(48==t.zoomLevel&&parseInt((30*c*1e3+t.startTime+p)/3e4)%6==0){var b=e.getTime(30*c*1e3+t.startTime+p);m.fillText(b,"24:00"==b?f-28:f-14,28)}else if(144==t.zoomLevel&&parseInt((10*c*1e3+t.startTime+p)/1e4)%6==0){var b=e.getTime(10*c*1e3+t.startTime+p);m.fillText(b,"24:00"==b?f-28:f-14,28)}else if(288==t.zoomLevel&&parseInt((10*c*1e3+t.startTime+p)/1e4)%6==0){var b=e.getTime(10*c*1e3+t.startTime+p);m.fillText(b,"24:00"==b?f-28:f-14,28)}else if(1440==t.zoomLevel)if(parseInt((2*c*1e3+t.startTime+p)/2e3)%30==0){var b=e.getTime(2*c*1e3+t.startTime+p);m.fillText(b,"24:00"==b?f-28:f-14,28)}else m.fillText(e.getSeconds(2*c*1e3+t.startTime+p),f,30)}e.drawBottomRollBar(a[0])},loadTimeLabel:function(a,e,t){var l=this,r=$(a),o=r.data("playbar").options,i=r.data("playbar").line,n=r.data("playbar").timeLabel,s=r.data("playbar").timeLabelCanvas[0],d=s.getContext("2d"),m=r.data("playbar").point,v=r.data("playbar").pointCanvas[0],p=v.getContext("2d"),c=r.data("playbar").lineNames.children();if(d.clearRect(0,0,50,14),d.fillStyle="#555",p.clearRect(0,0,150,95),e){if(t||(i.show(),n.show(),"line"==o.type&&m.show()),100>e?(e=100,t&&(i.hide(),n.hide(),"line"==o.type&&m.hide())):e>99+o.timeWidth?(e=99+o.timeWidth,t&&(i.hide(),n.hide(),"line"==o.type&&m.hide())):t&&(i.show(),n.show(),"line"==o.type&&m.show()),n.css(125>e?{left:100}:e>o.timeWidth+75?{left:o.timeWidth+50}:{left:e-25}),"line"==o.type&&o.lineData&&o.currentTime>=o.startTime&&o.currentTime<=o.startTime+864e5/o.zoomLevel){for(var f=20,b=0;b<o.lineData.length;b++){for(var h=!1,y=0;y<c.length;y++)if(c.eq(y).text()==o.lineData[b].name&&c.eq(y).hasClass("lava-playbar-linename-disable")){h=!0;break}if(!h){var T=o.lineData[b].data,u=null,g=0;if(!(0==T.length||o.currentTime<T[0].time||o.currentTime>T[T.length-1].time)){var L=l.quickSearch(T,o.currentTime);if(u=L.y,g=L.value,u){if(e>o.timeWidth-40){var z=p.createRadialGradient(140,u,2,140,u,12);z.addColorStop(0,o.lineData[b].color),z.addColorStop(1,"rgba(0,0,0,0)"),p.fillStyle=z,p.fillRect(130,u-10,20,20),p.fillStyle="rgba(0,0,0,0.53)",p.fillRect(0,f-12,130,16),p.fillStyle="#fff",p.font="11px arial",p.fillText(o.lineData[b].name+": "+g+o.lineData[b].unit,4,f)}else{var z=p.createRadialGradient(10,u,2,10,u,10);z.addColorStop(0,o.lineData[b].color),z.addColorStop(1,"rgba(85,85,85,0)"),p.fillStyle=z,p.fillRect(0,u-10,20,20),p.fillStyle="rgba(0,0,0,0.53)",p.fillRect(20,f-12,130,16),p.fillStyle="#fff",p.font="11px arial",p.fillText(o.lineData[b].name+": "+g+o.lineData[b].unit,24,f)}f+=16}}}}m.css(e>o.timeWidth-40?{left:e-140}:{left:e-10})}d.fillText(l.getTime(o.currentTime,!0),2,9),i.css({left:e})}else d.fillText("00:00:00",2,9)},quickSearch:function(a,e){var t=this;if(0==a.length)return{y:null,value:0};if(a.length%2==0)var l=a.length/2-1;else if(a.length%2==1)var l=(a.length-1)/2;return a[l].time==e?{y:95-95*(a[l].value/120),value:a[l].value}:a[l].time<e&&a[l+1]&&a[l+1].time>e?{y:95-95*(a[l].value/120),value:a[l].value}:a[l].time<e&&a[l+1]&&a[l+1].time<=e?t.quickSearch(a.slice(l+1),e):a[l].time>e?t.quickSearch(a.slice(0,l+1),e):void 0},drawBottomRollBar:function(a){var e=$(a),t=e.data("playbar").options,l=(e.find(".lava-playbar-time"),e.find(".lava-playbar-bottombar")),r=(e.width()-30)/t.zoomLevel;t.barWidth=50>r?50:r;var o=(e.width()-t.barWidth-30)*t.startTime/(864e5*(1-1/t.zoomLevel))+15;l.css({width:t.barWidth,left:o})},dragBottomRollBar:function(a,e){var t=this,l=$(a),r=l.find(".lava-playbar-bottomprev"),o=l.find(".lava-playbar-bottomrollbar"),i=l.find(".lava-playbar-bottombar"),n=(l.find(".lava-playbar-timewrapper"),l.data("playbar").options),s=e.clientX-n.lengthX-r.offset().left;15>s&&(s=15),s>o.width()-15-n.barWidth&&(s=o.width()-15-n.barWidth),i.css({left:s});var d=o.width()-30-n.barWidth;n.startTime=parseInt((s-15)/d*(864e5-864e5/n.zoomLevel)),t.drawTime(l),"channel"==n.type?t.loadChannelData(a):"line"==n.type&&t.loadLineData(a)},play:function(a,e){var t=this,l=$(a),r=l.data("playbar").options;r.currentTime=e,e<r.startTime&&(r.startTime=e,"channel"==r.type?t.loadChannelData(a):"line"==r.type&&t.loadLineData(a),t.drawTime(l)),e-r.startTime>864e5/r.zoomLevel&&(r.startTime=e-864e5/r.zoomLevel,"channel"==r.type?t.loadChannelData(a):"line"==r.type&&t.loadLineData(a),t.drawTime(l));var o=(e-r.startTime)/(864e5/r.zoomLevel)*r.timeWidth+100;t.loadTimeLabel(a,o)},getTime:function(a,e){var t=this;return e?t.round(parseInt(a/36e5))+":"+t.round(parseInt(a%36e5/6e4))+":"+t.round(parseInt(a%6e4/1e3)):t.round(parseInt(a/36e5))+":"+t.round(parseInt(a%36e5/6e4))},getSeconds:function(a){var e=this,t=new Date(a);return e.round(t.getSeconds())},round:function(a){return 10>a?"0"+a:a},zoomOutOrIn:function(a,e){{var t=this,l=$(a),r=l.data("playbar").options;r.zoomLevel}if("zoomout"==e){if(1440==r.zoomLevel)return;288==r.zoomLevel?(r.zoomLevel*=5,r.startTime+=.8*(r.currentTime-r.startTime)):48==r.zoomLevel||8==r.zoomLevel?(r.zoomLevel*=3,r.startTime+=(r.currentTime-r.startTime)*(2/3)):(r.zoomLevel*=2,r.startTime+=.5*(r.currentTime-r.startTime))}else if("zoomin"==e){if(1==r.zoomLevel)return;1440==r.zoomLevel?(r.zoomLevel=r.zoomLevel/5,r.startTime-=4*(r.currentTime-r.startTime)):144==r.zoomLevel||24==r.zoomLevel?(r.zoomLevel=r.zoomLevel/3,r.startTime-=2*(r.currentTime-r.startTime)):(r.zoomLevel=r.zoomLevel/2,r.startTime-=r.currentTime-r.startTime)}if(r.startTime<0){r.startTime=0;var o=(r.currentTime-r.startTime)/(864e5/r.zoomLevel)*r.timeWidth+100;t.loadTimeLabel(a,o)}else if(r.startTime>864e5-864e5/r.zoomLevel){r.startTime=864e5-864e5/r.zoomLevel;var o=(r.currentTime-r.startTime)/(864e5/r.zoomLevel)*r.timeWidth+100;t.loadTimeLabel(a,o)}t.drawTime(l),"channel"==r.type?t.loadChannelData(a):"line"==r.type&&t.loadLineData(a)},resize:function(a){var e=this,t=$(a),l=t.data("playbar").options;l.timeWidth=t.find(".lava-playbar-time").width(),e.drawTime(t),e.drawBottomRollBar(a);var r=(l.currentTime-l.startTime)/(864e5/l.zoomLevel)*l.timeWidth+100;e.loadTimeLabel(a,r,!0);var o=t.data("playbar").dataCanvas[0];o.width=l.timeWidth,"channel"==l.type?e.loadChannelData(a):"line"==l.type&&e.loadLineData(a)},bindEvent:function(a){var e=this,t=$(a),l=t.data("playbar").options,r=t.find(".lava-playbar-bottombar"),o=t.find(".lava-playbar-bottomrollbar"),i=t.find(".lava-playbar-rightbar"),n=t.find(".lava-playbar-rightrollbar"),s=t.find(".lava-playbar-channels"),d=t.find(".lava-playbar-data");o.on("mousedown",function(t){if(!r.is(":visible"))return!1;var o=t.clientX-$(this).offset().left-r.width()/2;15>o&&(o=15),o>$(this).width()-r.width()-15&&(o=$(this).width()-r.width()-15),r.css({left:o}),l.bottomDownFlag=!0,l.lengthX=t.clientX-r.offset().left,e.dragBottomRollBar(a,t);var i=(l.currentTime-l.startTime)/(864e5/l.zoomLevel)*l.timeWidth+100;return e.loadTimeLabel(a,i,!0),!1}),r.on("mousedown",function(a){return l.bottomDownFlag=!0,l.lengthX=a.clientX-$(this).offset().left,!1}),i.on("mousedown",function(a){return l.rightDownFlag=!0,l.lengthY=a.clientY-$(this).offset().top,!1}),t.find(".lava-playbar-time, .lava-playbar-datawrapper, .lava-playbar-timelabel, .lava-playbar-pointcanvas").on("click",function(r){var o=r.clientX-t.offset().left;return l.currentTime=l.startTime+(o-100)/(l.timeWidth*l.zoomLevel-l.zoomLevel)*864e5,e.loadTimeLabel(a,o),l.onPosition(l.currentTime),!1}),$("body").on("mousemove mouseup",function(r){if("mousemove"==r.type&&l.bottomDownFlag){e.dragBottomRollBar(a,r);var o=(l.currentTime-l.startTime)/(864e5/l.zoomLevel)*l.timeWidth+100;e.loadTimeLabel(a,o,!0)}else if("mousemove"==r.type&&l.bodyDownFlag){var o=r.clientX-t.offset().left;l.currentTime=l.startTime+(o-100)/(l.timeWidth*l.zoomLevel-l.zoomLevel)*864e5,l.currentTime>864e5&&(l.currentTime=864e5),e.loadTimeLabel(a,o),l.onPosition&&l.onPosition(l.currentTime)}else if("mousemove"==r.type&&l.rightDownFlag){var m=r.clientY-n.offset().top-l.lengthY;15>m&&(m=15),m>80-i.height()&&(m=80-i.height()),i.css({top:m});var v=-(m-15)/(65-i.height())*24*(l.data.length-4);s.css({top:v}),d.css({top:v})}else"mouseup"==r.type&&(l.bottomDownFlag=!1,l.bodyDownFlag=!1,l.rightDownFlag=!1)}),t.on("selectstart",function(){return!1}),a.addEventListener("mousewheel",function(t){if(t.wheelDelta>0)var l="zoomout";else var l="zoomin";return e.zoomOutOrIn(a,l),t.preventDefault(),t.stopPropagation(),!1}),a.addEventListener("DOMMouseScroll",function(t){if(t.detail<0)var l="zoomout";else var l="zoomin";return e.zoomOutOrIn(a,l),t.preventDefault(),t.stopPropagation(),!1}),t.find(".lava-playbar-zoomout,.lava-playbar-zoomin").on("mouseover mouseout click",function(t){var l=t.target.className.replace("lava-playbar-","");"mouseover"==t.type||"mouseout"==t.type?e.drawZoomBtn(a,l,t.type):e.zoomOutOrIn(a,l)}),t.delegate(".lava-playbar-linename","click",function(){$(this).toggleClass("lava-playbar-linename-disable"),e.loadLineData(a);var t=(l.currentTime-l.startTime)/(864e5/l.zoomLevel)*l.timeWidth+100;e.loadTimeLabel(a,t)}),window.onresize=function(){e.resize(targt)}}};$.fn.lavaPlayBar=function(a,e){return"string"==typeof a?$.fn.lavaPlayBar.methods[a](this,e):this.each(function(){var e={};$.extend(e,$.fn.lavaPlayBar.defaults),$(this).data("playbar",{options:e}),$.extend($(this).data("playbar").options,a),lavaPlayBar.init(this),lavaPlayBar.drawTime($(this)),lavaPlayBar.bindEvent(this)})},$.fn.lavaPlayBar.defaults={headerColor:"#7ad",headerBgColor:"#fff",channelBgColor:"#f5f5f5",channelColor:"#567",bgColor:"#fff",channelWrapperBgColor:"#fff",btnColor:"#32c5d2",rollbarWrapperColor:"#f1f1f1",rollbarColor:"#c1c1c1",rollbarHoverColor:"#a9a9a9",rollbarAngleColor:"#888",normalColor:"#36d7b7",alarmColor:"#e26a6a",zoomLevel:1,startTime:0,currentTime:0,type:"channel",time:0,onPosition:function(){}},$.fn.lavaPlayBar.methods={loadData:function(a,e){return lavaPlayBar.loadData(a,e)},changeType:function(a,e){return lavaPlayBar.changeType(a,e)},play:function(a,e){return lavaPlayBar.play(a,e)},resize:function(a){lavaPlayBar.resize(a)},options:function(a){return $(a).data("playbar").options},getType:function(a){return $(a).data("playbar").options.type},getTime:function(a){return $(a).data("playbar").options.currentTime}};