!function(a){var c={init:function(c,h){var b=this,v=a(c),g=v.data("combo").options;if(h){var w=a("<span class='lavaui-combo-container'></span>");v.after(w),w.append(v)}else{var w=v.parent();w.children(".lavaui-combo-panel").remove()}var W=a("<div class='lavaui-combo-panel'></div>").appendTo(w),k=g.panelWidth?g.panelWidth:v.innerWidth();if(W.css({width:k,height:g.panelHeight}),"top"===g.panelLocation&&(W.addClass("top"),W.css({top:-(g.panelHeight+3)})),v.data("combo").panel=W,v.parent().children(".lavaui-combo-triangle")&&v.parent().children(".lavaui-combo-triangle").remove(),g.showArrow){a("<span class='lavaui-combo-triangle'></span>").appendTo(w).css({top:v.innerHeight()/2-3})}b.initEvent(c),g.editable||v.prop("readonly",!0),g.disabled&&v.prop("disabled",!0)},initEvent:function(c){var h=a(c),b=h.data("combo").options,v=h.data("combo").panel,g=h.siblings(".lavaui-combo-triangle");h.on("click",function(e){b.disabled||h.attr("disabled")||(v.is(":visible")?v.hide():(null==b.panelWidth&&v.css("width",h.innerWidth()),v.show())),e.stopPropagation()}),b.showArrow&&g.on("click",function(e){b.disabled||h.attr("disabled")||(v.is(":visible")?v.hide():(null==b.panelWidth&&v.css("width",h.innerWidth()),v.show())),e.stopPropagation()}),v.on("click",function(e){e.stopPropagation()}),a(document).on("click",function(){v.hide()}),a("body").delegate(".modal-dialog","click",function(){v.hide()})}};a.fn.combo=function(h,b){return"string"==typeof h?a.fn.combo.methods[h](this,b):void a.each(this,function(){var b=!0;a(this).data("combo")&&a(this).data("combo").panel&&(b=!1);var v={};a.extend(v,a.fn.combo.defaults),a.extend(v,h),b?a(this).data("combo",{options:v}):a(this).data("combo").options=v,c.init(this,b)})},a.fn.combo.defaults={panelHeight:150,panelWidth:null,editable:!0,showArrow:!0,disabled:!1,panelLocation:"bottom"},a.fn.combo.methods={options:function(c){return a(c).data("combo").options},panel:function(c){return a(c).data("combo").panel}}}(jQuery,window);