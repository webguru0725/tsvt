!function(a){var e={init:function(e){var t=this,n=a(e),o=n.data("daterange"),s=o.options;n.combo({editable:s.editable,panelWidth:160,panelHeight:"auto",showArrow:!1});var r=n.combo("panel").addClass("daterange-dropdown");if(!s.locales.separator&&s.lang&&(s.locales=a.fn.daterange.lang[s.lang]),s.ranges){var l=[],i=s.ranges;for(var c in i)l.push("<a href='javascript:;' class='btn outline daterange-range' data-start='"+i[c][0]+"' data-end='"+i[c][1]+"'>"+c+"</a>");l.push("<a href='javascript:;' class='btn outline daterange-range custom'>"+s.locales.customRange+"</a>"),l.push("<a href='javascript:;' class='btn success apply'>"+s.locales.apply+"</a>"),l.push("<a href='javascript:;' class='btn outline warning cancel'>"+s.locales.cancel+"</a>");var d=a("<div class='daterange-btn-container'></div>");d.html(l.join("")),r.append(d)}var p=a("<div class='datecontainer'><div class='form-group'></div><div class='form-group'></div></div>").appendTo(r),u=a("<input type='text' class='form-control'>").appendTo(p.children().eq(0)),g=a("<input type='text' class='form-control'>").appendTo(p.children().eq(1));t.initDateBox(n,s,u,g),t.initEvent(n,s,r,u,g)},initDateBox:function(a,e,t,n){t.datetimebox({showTime:e.showTime,format:e.format,panelWidth:220,lang:a.data("daterange").options.lang,onLoadDateSuccess:e.onLoadDateSuccess,onMonthChange:e.onMonthChange}),n.datetimebox({showTime:e.showTime,format:e.format,panelWidth:220,lang:a.data("daterange").options.lang,onLoadDateSuccess:e.onLoadDateSuccess,onMonthChange:e.onMonthChange})},initEvent:function(e,t,n,o,s){var r=this,l=n.find(".datecontainer"),i=n.find(".daterange-range"),c=n.find(".apply"),d=n.find(".cancel");i.on("click",function(){var i=a(this);if(i.hasClass("custom")){l.show(),n.css({width:610});var c=e.val();c&&(o.datetimebox("setValue",c.split(" "+t.locales.separator+" ")[0]),s.datetimebox("setValue",c.split(" "+t.locales.separator+" ")[1]))}else{var d=parseInt(i.attr("data-start")),p=parseInt(i.attr("data-end")),u=new Date((new Date).getTime()+864e5*d),g=new Date((new Date).getTime()+864e5*p),f=r.formatDate(u,t.format.split(" ")[0]),m=r.formatDate(g,t.format.split(" ")[0]);t.showTime&&(f+=" 00:00:00",m+=" 23:59:59");var h=e.val();e.val(f+" "+t.locales.separator+" "+m),t.onChange&&t.onChange(h,f+" "+t.locales.separator+" "+m),t.startDate=u,t.endDate=g,t.type="range",n.hide(),i.hasClass("outline")&&(n.find(".daterange-range").addClass("outline"),i.removeClass("outline")),t.startDate=f,t.endDate=m}}),c.on("click",function(){if(o.is(":visible")){var a=o.val(),r=s.val();if(a>r||!a||!r)return;var l=e.val();e.val(a+" "+t.locales.separator+" "+r),t.onChange&&t.onChange(l,a+" "+t.locales.separator+" "+r),n.find(".daterange-range").addClass("outline"),n.find(".custom").removeClass("outline"),t.startDate=a,t.endDate=r}t.type="custom",n.hide()}),d.on("click",function(){n.hide()}),e.on("click",function(){"custom"!=t.type?(n.css({width:160}),l.hide()):(i.addClass("outline"),n.find(".custom").removeClass("outline").click())})},formatDate:function(a,e){var t=this,n=a.getFullYear(),o=a.getMonth()+1,s=a.getDate();return e.replace("yyyy",n).replace("MM",t.round(o)).replace("dd",t.round(s))},round:function(a){return 10>a?"0"+a:a},setStartTime:function(e,t){var n=a(e),o=n.data("daterange").options;o.startDate=t,o.endDate&&n.val(t+" "+o.locales.separator+" "+o.endDate),o.type="custom"},setEndTime:function(e,t){var n=a(e),o=n.data("daterange").options;o.endDate=t,o.startDate&&n.val(o.startDate+" "+o.locales.separator+" "+t),o.type="custom"},clear:function(e){var t=a(e),n=t.data("daterange").options;n.startDate="",n.endDate="",t.val("")}};a.fn.daterange=function(t,n){return"string"==typeof t?a.fn.daterange.methods[t](this,n):void a.each(this,function(){var n={};a.extend(n,a.fn.combo.defaults),a.extend(n,a.fn.lavaCalendar.defaults),a.extend(n,a.fn.datetimebox.defaults),a.extend(n,a.fn.daterange.defaults),n.showTime&&a.extend(n,a.fn.timespinner.defaults),a.extend(n,t),a(this).data("daterange",{options:n}),a.extend(a.fn.lavaCalendar.locales,a(this).data("daterange").options.weekMonth),e.init(this)})},a.fn.daterange.defaults={format:"yyyy-MM-dd hh:mm:ss",showTime:!0,panelHeight:"auto",editable:!0,startDate:"",endDate:"",weekMonth:{},locales:{},lang:"en-US",onLoadDateSuccess:null,onChange:null},a.fn.daterange.methods={setStartTime:function(a,t){e.setStartTime(a,t)},setEndTime:function(a,t){e.setEndTime(a,t)},getStartTime:function(e){return a(e).data("daterange").options.startDate},getEndTime:function(e){return a(e).data("daterange").options.endDate},clear:function(a){e.clear(a)}},a.fn.daterange.lang={"en-US":{separator:"to",apply:"apply",cancel:"cancel",customRange:"custom range"},"zh-CN":{separator:"至",apply:"应用",cancel:"取消",customRange:"自定义范围"},"zh-TW":{separator:"至",apply:"應用",cancel:"取消",customRange:"自定義範圍"},"pt-PT":{separator:"para",apply:"Aplicação",cancel:"Cancelar",customRange:"Escala personalizada"},af:{separator:"tot",apply:"toepassing",cancel:"Canceled",customRange:"Aangepast bereik"},fr:{separator:"à",apply:"appliquer",cancel:"annulé",customRange:"Gamme personnalisée"},jp:{separator:"に",apply:"適用する",cancel:"キャンセル",customRange:"カスタムレンジ"},ar:{separator:"إلى",apply:"تطبق",cancel:"إلغاء",customRange:"نطاق مخصص"}}}(jQuery);