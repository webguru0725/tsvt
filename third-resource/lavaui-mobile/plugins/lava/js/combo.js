!function(o){var a={init:function(a,n){var t=this,i=o(a),e=i.data("combo").options;if(n){var c=o("<span class='lavaui-combo-container'></span>");i.after(c),c.append(i);var s=o("<div class='lavaui-combo-panel'></div>").appendTo(c),p=e.panelWidth?e.panelWidth:i.innerWidth();s.css({width:p,height:e.panelHeight}),i.data("combo").panel=s,e.showArrow&&o("<span class='lavaui-combo-triangle'></span>").appendTo(c).css({top:i.innerHeight()/2-3})}else{var c=i.parent();c.children(".lavaui-combo-panel").remove();var s=o("<div class='lavaui-combo-panel'></div>").appendTo(c),p=e.panelWidth?e.panelWidth:i.innerWidth();s.css({width:p,height:e.panelHeight}),i.data("combo").panel=s,e.showArrow?o("<span class='lavaui-combo-triangle'></span>").appendTo(c).css({top:i.innerHeight()/2-3}):i.parent().children(".lavaui-combo-triangle").remove()}t.initEvent(a),e.editable||i.prop("readonly",!0)},initEvent:function(a){var n=o(a),t=n.data("combo").options,i=n.data("combo").panel,e=n.siblings(".lavaui-combo-triangle");n.on("click",function(a){o(this).parent().parent().parent().hasClass("datecontainer")||o(document).click(),i.show(),a.stopPropagation()}),t.showArrow&&e.on("click",function(a){o(this).parent().parent().parent().hasClass("datecontainer")||o(document).click(),i.show(),a.stopPropagation()}),i.on("click",function(o){o.stopPropagation()}),o(document).on("click",function(){i.hide()}),o("body").delegate(".modal-dialog","click",function(){i.hide()})}};o.fn.combo=function(n,t){return"string"==typeof n?o.fn.combo.methods[n](this,t):void o.each(this,function(){var t=!0;o(this).data("combo")&&o(this).data("combo").panel&&(t=!1);var i={};o.extend(i,o.fn.combo.defaults),o.extend(i,n),t?o(this).data("combo",{options:i}):o(this).data("combo").options=i,a.init(this,t)})},o.fn.combo.defaults={panelHeight:150,panelWidth:null,editable:!0,showArrow:!0},o.fn.combo.methods={options:function(a){return o(a).data("combo").options},panel:function(a){return o(a).data("combo").panel}}}(jQuery,window);