!function($,window){var $body=$("body"),app={ie8:/msie 8/.test(navigator.userAgent.toLowerCase()),init:function(){header.init(),sidebar.init(),button.init(),tabs.init(),modal.init(),checkbox.init(),popover.init(),layout.init(),lavaWindow.init(),lavaAlert.init()}},header={init:function(){$(".sidebar-toggle").on("click",function(){var e=$(".page-container");e.toggleClass("sidebar-collapsed"),e.hasClass("sidebar-collapsed")?$(".page-sidebar .sub-menu").hide():($(".page-sidebar .sub-menu").css({top:0}),$(".page-sidebar .active").next(".sub-menu").show()),app.ie8&&setTimeout(function(){$(".page-sidebar .nav-toggle").focus()},10)})}},sidebar={init:function(){$(".page-sidebar").delegate(".nav-link","click",function(){var e=$(this);e.hasClass("nav-toggle")||($(".page-sidebar .active").removeClass("active"),e.addClass("active")),e.parent().parent().hasClass("sub-menu")&&e.parent().parent().prev().addClass("active"),$(".page-container").hasClass("sidebar-collapsed")||e.hasClass("nav-toggle")&&(e.hasClass("open")?e.next("ul").slideToggle():($(".page-sidebar .open").removeClass("open").next("ul").hide(),e.next("ul").slideToggle()),e.toggleClass("open"),app.ie8&&($(".page-sidebar").hide(),$(".page-sidebar").show()))}),$("html").delegate(".sidebar-collapsed .page-sidebar .nav-toggle","mouseover mouseout",function(e){var t=$(this).next("ul");if("mouseover"==e.type){var o=$(this).offset().top-$(".page-sidebar").offset().top;t.show().css({top:o})}else t.hide()}),$("html").delegate(".sidebar-collapsed .page-sidebar .sub-menu","mouseover mouseout",function(e){"mouseover"==e.type?$(this).show():$(this).hide()})}},button={init:function(){$body.delegate(".dropdown-toggle","click",function(e){$(".btn-group.open").removeClass("open"),$(this).parent().toggleClass("open"),e.stopPropagation()}),$(document).on("click",function(){$(".btn-group.open").removeClass("open")})}},tabs={init:function(){$body.delegate(".tabs>li>a","click",function(e){var $this=$(this),$li=$this.parent(),$tab=$($this.attr("href"));if(!$li.hasClass("active")&&($li.parent().children(".active").removeClass("active"),$tab.siblings(".active").removeClass("active"),$li.addClass("active"),$tab.addClass("active"),$this.parent().parent().attr("data-options"))){var options=eval("({"+$this.parent().parent().attr("data-options")+"})");options.onSelect&&eval("("+options.onSelect+"('"+$this.attr("href")+"'))")}e.preventDefault()})}},modal={init:function(){var e=this;$.fn.modal=function(t){e[t](this)},$body.delegate(".modal-header>.close, .modal, .modal-dialog","click",function(t){var o=$(this);o.hasClass("modal-dialog")?t.stopPropagation():o.hasClass("close")&&"modal"==o.attr("data-dismiss")?e.hide(o.closest(".modal")):o.hasClass("modal")&&!o.hasClass("no-backdrop")&&e.hide(o)})},show:function(e){var t=$(e);if(!t.hasClass("no-backdrop")){if(!t.data("backdrop")){var o=$("<div class='modal-backdrop'></div>").appendTo("body");t.data("backdrop",o)}var o=t.data("backdrop");o.addClass("in")}t.fadeIn(),t.addClass("in")},hide:function(e){var t=$(e);t.fadeOut(),t.removeClass("in");var o=t.data("backdrop");o&&o.removeClass("in")}},checkbox={init:function(){/msie 8/.test(navigator.userAgent.toLowerCase())||$body.delegate(".checkbox","click",function(){var e=$(this).children("input[type=checkbox]");e.prop("checked")?e.prop("checked",!1):e.prop("checked",!0)})}},popover={init:function(){var e=this;$body.delegate("[data-toggle=popover]","click mouseover mouseleave",function(t){var o=$(this),a=o.attr("data-title"),i=o.attr("data-content"),n=o.attr("data-trigger");(a||i)&&("hover"==n?"mouseover"==t.type?e.show(this):"mouseleave"==t.type&&e.hide(this):"click"==n&&"click"==t.type?o.data("popover")?e.hide(this):e.show(this):"focus"==n&&"click"==t.type&&(e.show(this),t.stopPropagation()))}),$body.on("click",function(){for(var t=$("[data-toggle=popover]"),o=0;o<t.length;o++)"click"!=t.eq(o).attr("data-trigger")&&e.hide(t[o])}),$.fn.popover=function(t){"string"==typeof t?e[t](this[0]):$.each(this,function(){e.initPopover(this,t)})}},initPopover:function(e,t){if(t.title||t.content){var o=$(e);o.attr({"data-toggle":"popover","data-title":t.title,"data-content":t.content,"data-trigger":t.trigger,"data-placement":t.placement})}},show:function(e){var t=$(e),o=t.attr("data-title"),a=t.attr("data-content"),i=(t.attr("data-trigger"),t.attr("data-placement")),n=t.offsetParent(),s=e.offsetLeft,l=e.offsetTop,r=t.outerWidth(),d=t.outerHeight();if((o||a)&&!t.data("popover")){i=i?i:"left";var c=$("<div class='popover "+i+"'><div class='popover-title'>"+o+"</div><div class='popover-content'>"+a+"</div><div class='arrow'></div></div>").appendTo(n);t.data("popover",c);var p=c.outerWidth(),h=c.outerHeight();switch(i){case"top":s=s+r/2-p/2,l=l-h-10;break;case"bottom":s=s+r/2-p/2,l=l+d+10;break;case"right":s=s+r+10,l=l+d/2-h/2;break;default:s=s-p-10,l=l+d/2-h/2}c.css({left:s,top:l})}},hide:function(e){var t=$(e),o=t.data("popover");o&&(o.remove(),t.removeData("popover"))}},layout={init:function(){var e=this;$.fn.layout=function(){e.initLayout(this)}},initLayout:function(e){var t=this,o=$(e);$topPanel=o.children(".layout-top"),$leftPanel=o.children(".layout-left"),$centerPanel=o.children(".layout-center"),$rightPanel=o.children(".layout-right"),$bottomPanel=o.children(".layout-bottom"),top1=$topPanel.length>0?$topPanel.outerHeight()+12:12,left=$leftPanel.length>0?$leftPanel.width()+12:12,right=$rightPanel.length>0?$rightPanel.width()+12:12,bottom=$bottomPanel.length>0?$bottomPanel.height()+12:12,$leftPanel.css({top:top1,bottom:bottom}),$rightPanel.css({top:top1,bottom:bottom}),$centerPanel.css({top:top1,right:right,bottom:bottom,left:left}),o.addClass("layout"),$topPanel.attr("data-close")&&($topPanel.append("<div class='close'></div>"),o.append("<div class='open open-top'></div>")),$leftPanel.attr("data-close")&&($leftPanel.append("<div class='close'></div>"),$centerPanel.append("<div class='open open-left'></div>")),$rightPanel.attr("data-close")&&($rightPanel.append("<div class='close'></div>"),$centerPanel.append("<div class='open open-right'></div>")),$bottomPanel.attr("data-close")&&($bottomPanel.append("<div class='close'></div>"),o.append("<div class='open open-bottom'></div>")),t.resize(e);var a={topPanel:$topPanel,rightPanel:$rightPanel,bottomPanel:$bottomPanel,leftPanel:$leftPanel,centerPanel:$centerPanel,top:top1,right:right,bottom:bottom,left:left};t.initEvent(e,a)},resize:function(e){for(var t=$(e),o=t.children(".panel"),a=0;a<o.length;a++){var i=o.eq(a);if(i.is(":visible")){var n=i.children(".panel-header"),s=i.children(".panel-body");s.css({height:i.height()-n.height()})}}},initEvent:function(e,t){var o=this,a=$(e),i=t.centerPanel;t.opentop=a.children(".open-top"),t.openright=i.children(".open-right"),t.openbottom=a.children(".open-bottom"),t.openleft=i.children(".open-left"),a.children(".panel").children(".close").on("click",function(){var a=$(this),n=a.parent();if(n[0].className.match(/top|right|bottom|left/)){var s=n[0].className.match(/top|right|bottom|left/)[0],l={},r={};l[s]=12,i.css(l),/top|bottom/.test(s)?(t.leftPanel.css(l),t.rightPanel.css(l),r[s]=-t[s+"Panel"].height()):r[s]=-t[s+"Panel"].width(),t[s+"Panel"].animate(r,function(){t[s+"Panel"].hide(),t["open"+s].show()}),o.resize(e)}}),a.find(".open").on("click",function(){var a=$(this);if(a[0].className.match(/top|right|bottom|left/)){var n=a[0].className.match(/top|right|bottom|left/)[0],s={},l={};s[n]=0,t[n+"Panel"].show().animate(s,function(){t["open"+n].hide(),/top|bottom/.test(n)?(l[n]=t[n+"Panel"].outerHeight()+12,t.leftPanel.css(l),t.rightPanel.css(l)):l[n]=t[n+"Panel"].width()+12,i.css(l),o.resize(e)})}}),$(window).on("resize",function(){o.resize(e)})}},lavaWindow={init:function(){var e=this;$.fn.window=function(t,o){"string"==typeof t?e[t](this,o):$.each(this,function(){var o={};$.extend(o,t),$(this).data("window",{options:o}),e.initWindow(this)})}},initWindow:function(e){var t=this,o=$(e),a=o.data("window").options,i={};for(var n in a)/^(top|right|bottom|left|width|height)$/.test(n)&&(i[n]=a[n]);a.hidden&&(css.display="none"),o.css(i).addClass("window"),a.draggable&&o.addClass("draggable"),a.closable&&o.children(".panel-header").append("<span class='close'>X</span>"),a.oldTop=o.offset().top,a.oldLeft=o.offset().left,t.initEvent(o,a)},initEvent:function(e,t){if(t.closable&&e.children(".panel-header").children(".close").on("mousedown click",function(o){"mousedown"==o.type?o.stopPropagation():(e.hide(),o.stopPropagation(),t.onClose&&t.onClose())}),t.draggable){var o,a,i,n,s=e.children(".panel-header"),l=(e.offsetParent(),!1);s.on("mousedown",function(s){var r=$("<div class='window-clone'></div>").appendTo($body);t.clone=r,r.css({width:e.width(),height:e.height(),top:t.oldTop,left:t.oldLeft}),o=s.offsetX,a=s.offsetY,i=s.clientX,n=s.clientY,l=!0}),$body.on("mousemove mouseleave mouseup",function(s){if(l&&"mousemove"==s.type){var r=s.clientX-o,d=s.clientY-a;t.clone.css({top:d,left:r})}else if(("mouseleave"==s.type||"mouseup"==s.type)&&t.clone){l=!1,t.clone.remove(),t.clone=null;var c=s.clientX-i,p=s.clientY-n;e.css({left:t.oldLeft+c,top:t.oldTop+p}),t.oldLeft+=c,t.oldTop+=p}})}},show:function(e){$(e).show()},hide:function(e){$(e).hide()}},lavaAlert={init:function(){$body.delegate(".alert>.close","click",function(){$(this).parent().remove()})}};app.init()}(jQuery,window);