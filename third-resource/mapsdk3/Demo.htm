<html>

<head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <style type="text/css">
        ul {
            list-style: none;
        }
    </style>
    <script type="text/javascript" language="javascript" src="/third-resource/mapsdk3/config.js"></script>
    <script type="text/javascript">
        var map;
        var gmap;
        window.onload = function () {
            var mapType = window.location.search.replace('?', '');
            var xxx = new Map_Config(mapType, function () {
                try {
                    if (gmap) return;
                    map = new CqrmMap("map");
                    gmap = map.Map();
                    addEventListener();
                } catch (e) {
                    if (console.log) console.log(e);
                }
            });
        }

        function addEventListener() {
            if (gmap) {
                gmap.addEventListener(function (eventName, eventObj) {
                    document.getElementById("inp_eventName").value = eventName;
                    document.getElementById("inp_eventObj").value = eventObj;
                });
            }
        }

        function getBounds() {
            alert(gmap.getBounds());
        }

        function getCenter() {
            alert(gmap.getCenter());
        }

        function getCenterPointPixel() {
            var point = gmap.getCenter();
            document.getElementById("inp_pointpixel").value = gmap.pointToPixel(point.split(',')[0], point.split(',')[1]);
        }

        function pixelToPoint() {
            var pixel = document.getElementById("inp_pointpixel").value;
            document.getElementById("inp_pixelpoint").value = gmap.pixelToPoint(pixel.split(',')[0], pixel.split(',')[1])
        }

        function setCenter() {
            var lat = document.getElementById("inp_lat1").value;
            var lng = document.getElementById("inp_lng1").value;
            gmap.setCenter(lat, lng);
        }

        function getZoom() {
            alert(gmap.getZoom());
        }

        function setZoom() {
            var zoom = document.getElementById("inp_zoom1").value;
            gmap.setZoom(zoom);
        }

        function setMaxZoom() {
            var zoom = document.getElementById("inp_zoom2").value;
            gmap.setMaxZoom(zoom);
        }

        function setMinZoom() {
            var zoom = document.getElementById("inp_zoom3").value;
            gmap.setMinZoom(zoom);
        }

        function boxZoomIn() {
            gmap.boxZoomInOrZoomOut('in');
        }

        function boxZoomOut() {
            gmap.boxZoomInOrZoomOut('out');
        }

        function getPosition() {
            var lat = document.getElementById("inp_lat").value;
            var lng = document.getElementById("inp_lng").value;
            gmap.getPosition(lat, lng, fun);
        }

        function fun(result) {
            alert(result);
        }

        function searchPosition() {
            var address = document.getElementById("inp_address").value;
            gmap.searchPosition(address, fun3);
        }

        function fun3(error) {
            alert(error);
        }

        function GetUserLocation() {
            gmap.GetUserLocation(function (latlng) {
                alert(latlng);
            })
        }

        function isPointInPolygon() {
            var latlng = "34.3227,108.5525";
            var latlngArray = ["43.820052,95.89516", "18.7749,91.7741", "18.4943,141.9619", "43.1771,140.1958"];
            alert(gmap.isPointInPolygon(latlng, latlngArray));
        }
        /*---------Icon--------*/
        var icon;

        function icon_drawSign() {
            icon = map.Icon();
            var html = "<table style='background:#FFFFFF;border:1px solid gray;'>";
            html += "<tr><td>名称</td><td><input type='text'/></td></tr>";
            html += "<tr><td>备注</td><td><textarea cols='18'></textarea></td></tr>";
            html += "<tr><td colspan='2' align='center'><button type='button'>确定</button><button type='button'>取消</button></td></tr>";
            html += "</table>";
            var infoOptions = {
                content: html,
                callBack: function () {
                    alert('close');
                }
            };
            icon.drawSign(infoOptions);
        }

        function icon_getPosition() {
            alert(icon.getPosition());
        }

        function icon_getIcon() {
            alert(icon.getIcon());
        }

        function icon_setIcon() {
            icon.setIcon("Images/car_red.png");
        }

        function icon_clear() {
            icon.clear();
        }

        function icon_loadIcon() {
            var latlng = "32.33758591740000000,106.82563665840000000";
            icon = map.Icon();
            icon.loadIcon('id', latlng, "Images/flag_blue.png", "<div id='399120'><img id='img_399120' state='0' src='Images/flag_blue.png'/></div>", function () {

                window.setTimeout(function () {
                    //var id = document.getElementById("399120");
                    //id.innerText = "dazhong";
                    icon.setInfoWindowContent("dazhong");
                }, 1000);
            });
        }

        function icon_loadIconAndOpenInfoWindow() {
            var latlng = "32.33758591740000000,106.82563665840000000";
            icon = map.Icon();
            icon.loadIconAndOpenInfoWindow('id', latlng, "Images/flag_blue.png", "fffffcuk", function (a) {
                icon.setInfoWindowContent("dazhong");
            });
        }

        function icon_loadCustomIcon() {
            var latlng = "32.3375859174,106.8256366584";
            icon = map.Icon();
            var text = document.createTextNode("18");
            var div_ = document.createElement("div");
            div_.style.backgroundImage = "url(Images/cluster/m3.png)";
            div_.style.fontSize = "12px";
            div_.style.width = "66px";
            div_.style.height = "65px";
            div_.style.cursor = "default";
            div_.style.textAlign = "center";
            div_.style.lineHeight = "65px";
            div_.style.marginLeft = "-30px";
            div_.style.marginTop = "-30px";
            div_.style.position = "absolute";
            div_.appendChild(text);
            div_.onclick = function () {
                alert('click');
            };
            icon.loadCustomIcon(latlng, div_, '1', function () {
                alert('1');
            });
        }

        function icon_setInfoWindowContent() {
            var html = "<ul style='height:80px;width:200px;overflow:auto;'><li><a href='#' onclick='alert();'>fuck</a></li><li><a href='#' onclick='alert('fuck')'>fuck</a></li><li><a href='#' onclick='alert('fuck')'>fuck</a></li><li><a href='#' onclick='alert('fuck')'>fuck</a></li><li><a href='#' onclick='alert('fuck')'>fuck</a></li><li><a href='#' onclick='alert('fuck')'>fuck</a></li><li><a href='#' onclick='alert('fuck')'>fuck</a></li><li><a href='#' onclick='alert('fuck')'>fuck</a></li><li><a href='#' onclick='alert('fuck')'>fuck</a></li><li><a href='#' onclick='alert('fuck')'>fuck</a></li></ul>";
            var text = document.createTextNode(new Date().getTime());
            var div_ = document.createElement("div");
            var a = document.createElement("a");
            a.appendChild(text);
            a.onclick = function () {
                alert('c');
            };
            a.href = "#"
            div_.appendChild(a);
            icon.setInfoWindowContent(div_);
            icon.addInfoWindowCloseListener(function () {
                alert('close');
            });
        }

        function icon_openInfoWindow() {
            icon.openInfoWindow(true);
        }

        function icon_closeInfoWindow() {
            icon.openInfoWindow(false);
        }
        /*----------CarIcon--------*/
        var caricon;
        var caricon2;
        var caricon3;

        function carIcon_load() {
            var gps = {
                "CarLicense": "贵BU0583",
                "PlateColor": "黄色",
                "CarTypeID": 2,
                "CarTypeName": "超长客车",
                "GroupName": "青岛",
                "DriverName": "",
                "GpsLng": 106.82563665840000000,
                "GpsLat": 32.33758591740000000,
                "Speed": 0.00,
                "Direction": 27,
                "Status": 1,
                "GPSTime": "\/Date(1329356463000)\/"
            };
            var gps2 = {
                "CarLicense": "贵BU0586",
                "PlateColor": "黄色",
                "CarTypeID": 2,
                "CarTypeName": "超长客车",
                "GroupName": "青岛",
                "DriverName": "",
                "GpsLng": 105.82563665840000000,
                "GpsLat": 33.33758591740000000,
                "Speed": 0.00,
                "Direction": 27,
                "Status": 1,
                "GPSTime": "\/Date(1329356463000)\/"
            };

            if (!caricon) caricon = map.CarIcon();
            if (!caricon2) caricon2 = map.CarIcon();
            caricon.load(gps, function (a) {
                alert(a)
            });
            caricon.setInfoWindowContent("aaaa");

            caricon2.load(gps2, function (b) {
                alert(b)
            });
            caricon2.setInfoWindowContent("bbb");
        }

        function carIcon_clear() {
            caricon.clear();
            caricon2.clear();
        }

        function carIcon_lock() {
            caricon.Lock();
        }

        function carIcon_unlock() {
            caricon.UnLock();
        }

        function carIcon_getCenter() {
            alert(caricon.getCenter());
        }

        function carIcon_setPosition() {
            var gps = {
                "CarLicense": "川Y09761",
                "PlateColor": "黄色",
                "CarTypeID": 2,
                "CarTypeName": "超长客车",
                "GroupName": "青岛",
                "DriverName": "",
                "GpsLng": 106.92563665840000000,
                "GpsLat": 33.33758591740000000,
                "Speed": 0.00,
                "Direction": 160,
                "Status": 0,
                "GPSTime": "\/Date(1329356463000)\/"
            };
            caricon.setPosition(gps);
            //caricon.setInfoWindowContent('second');
        }

        function carIcon_setZIndex() {
            caricon.setZIndex(9999);
            caricon2.setZIndex(99);
        }

        function carIcon_setInfoWindowContent() {
            caricon.setInfoWindowContent('fuck');
        }

        function carIcon_setBorderColor() {
            caricon.setBorderColor('#CD0000');
        }
        /*-----------CarIconList---------*/
        var iconList = null;

        function carIconList_push() {
            if (iconList == null) iconList = map.CarIconList();
            var latlng = "30.658430,104.064860;30.739050,104.381440;30.667520,104.681210;30.615840,105.367970;29.838130,106.120190;29.540150,106.443910;29.563520,106.552150";
            var latlngArray = latlng.split(';');
            for (var i = 0; i < latlngArray.length; i++) {
                var ll = latlngArray[i].split(',');
                var data = {
                    "CarLicense": "粤A1234" + i,
                    "GpsLat": ll[0],
                    "GpsLng": ll[1],
                    "Status": 1,
                    "Direction": 88,
                    onclickHandler: function (data) {
                        iconList.setInfoWindowContent(data.CarLicense, "fuuuuuuuck");
                    }
                }
                iconList.push(data);
            }
        }

        function carIconList_remove() {
            iconList.remove('粤A12345');
        }

        function carIconList_clear() {
            iconList.clear();
        }
        /*-----------Line---------------*/
        var line;

        function Line_drawLine() {
            if (!line) line = map.Line();
            else line.clear();
            line.drawLine(function (a) {
                alert(a);
            });
        }

        function Line_loadLine() {
            var latlng = "30.658430,104.064860;30.658420,104.064160;30.658220,104.064170;30.656400,104.064250;30.656340,104.060850;30.656340,104.060850;30.657010,104.060840;30.658180,104.060800;30.658180,104.060600;30.658180,104.060600;30.658180,104.060800;30.658180,104.060800;30.658280,104.063620;30.658290,104.063990;30.658380,104.067850;30.658440,104.070430;30.658470,104.072100;30.658490,104.073570;30.658550,104.076740;30.658540,104.077180;30.658370,104.077740;30.657040,104.080610;30.656730,104.081260;30.655800,104.083250;30.654650,104.085730;30.653740,104.087670;30.653230,104.088750;30.651800,104.091820;30.649890,104.095900;30.649890,104.095900;30.649820,104.096050;30.648430,104.099110;30.647490,104.101130;30.645210,104.106090;30.644330,104.107900;30.643310,104.110130;30.643130,104.110520;30.642990,104.110660;30.642840,104.110690;30.642730,104.110680;30.642580,104.110570;30.642500,104.110390;30.642490,104.110230;30.642550,104.110050;30.642660,104.109940;30.642770,104.109890;30.642890,104.109870;30.643360,104.110160;30.643550,104.110280;30.644010,104.110550;30.645490,104.111470;30.647040,104.112390;30.647650,104.112750;30.649060,104.113610;30.650800,104.114690;30.650890,104.114710;30.651870,104.114910;30.652530,104.114910;30.653280,104.116080;30.653960,104.117130;30.655620,104.120720;30.657790,104.125780;30.657790,104.125780;30.658980,104.129320;30.660230,104.131790;30.660810,104.132540;30.661120,104.132920;30.661760,104.133690;30.664250,104.135950;30.665130,104.136390;30.667020,104.137070;30.667370,104.137140;30.670600,104.137240;30.671790,104.137310;30.672430,104.137450;30.672430,104.137450;30.671010,104.139350;30.669640,104.141160;30.668360,104.142960;30.667720,104.144200;30.667280,104.145610;30.667130,104.146450;30.667070,104.147640;30.667130,104.148790;30.667220,104.149440;30.667820,104.152840;30.668860,104.158950;30.669020,104.159990;30.669400,104.162050;30.669590,104.163040;30.669880,104.164570;30.670550,104.168390;30.670700,104.169280;30.671030,104.171100;30.671540,104.174340;30.672060,104.178850;30.672220,104.182300;30.672420,104.191710;30.672480,104.200690;30.672190,104.205910;30.671930,104.210860;30.671440,104.221770;30.671620,104.225860;30.672380,104.230680;30.673960,104.236370;30.677320,104.244640;30.679640,104.250880;30.682110,104.258550;30.687940,104.276970;30.693970,104.290140;30.695640,104.293770;30.706060,104.311970;30.713430,104.324830;30.715070,104.328920;30.717310,104.332620;30.730590,104.346400;30.733270,104.352110;30.733820,104.353660;30.736640,104.364490;30.738690,104.378850;30.739050,104.381440;30.739270,104.382730;30.740020,104.386490;30.741190,104.391240;30.741370,104.392420;30.741350,104.395840;30.739710,104.401890;30.738360,104.406700;30.738440,104.413450;30.738740,104.418810;30.738080,104.422870;30.734610,104.431080;30.732420,104.435900;30.730460,104.438590;30.727500,104.439990;30.722220,104.439610;30.718490,104.439200;30.715970,104.439470;30.713480,104.440990;30.711920,104.443070;30.709140,104.449990;30.702090,104.467720;30.700700,104.470440;30.697240,104.473300;30.692420,104.474080;30.690600,104.474520;30.688450,104.475800;30.686680,104.478160;30.685470,104.483910;30.683150,104.492160;30.682510,104.495240;30.683670,104.499490;30.686750,104.503260;30.687780,104.505080;30.688370,104.507150;30.688490,104.508950;30.688170,104.511250;30.685300,104.524500;30.684020,104.530880;30.684040,104.532400;30.684340,104.534300;30.685350,104.537600;30.686470,104.541250;30.686740,104.542770;30.686900,104.544920;30.686860,104.546790;30.686390,104.554380;30.686620,104.559280;30.687120,104.564020;30.687260,104.567430;30.686890,104.569780;30.685710,104.574050;30.684980,104.577150;30.684840,104.579650;30.685300,104.586330;30.685390,104.589260;30.685090,104.591920;30.683820,104.598920;30.683460,104.602860;30.683710,104.610680;30.683560,104.613540;30.681690,104.624250;30.679780,104.633120;30.676160,104.643870;30.675550,104.646820;30.674480,104.654570;30.670010,104.663570;30.668990,104.666580;30.667520,104.681210;30.666940,104.685730;30.665570,104.689700;30.663180,104.696080;30.662530,104.698230;30.661780,104.700250;30.660590,104.702920;30.660490,104.703140;30.658860,104.706000;30.657090,104.709360;30.656580,104.710530;30.655910,104.712790;30.655430,104.715540;30.654380,104.719670;30.650580,104.729120;30.649120,104.732680;30.648670,104.734290;30.648350,104.736160;30.648290,104.737500;30.648640,104.740890;30.649460,104.743710;30.650650,104.749260;30.650710,104.752750;30.649970,104.762380;30.650080,104.772090;30.649760,104.776160;30.648100,104.781430;30.647040,104.785140;30.646990,104.791030;30.646770,104.793230;30.645950,104.795870;30.643240,104.800300;30.640550,104.804570;30.639620,104.807520;30.639450,104.810640;30.639990,104.820450;30.639390,104.830150;30.639280,104.833040;30.639670,104.835940;30.642470,104.845190;30.643350,104.848060;30.643880,104.851620;30.643500,104.860380;30.643700,104.863750;30.644080,104.867180;30.644760,104.873060;30.644650,104.875030;30.644260,104.876960;30.643850,104.878120;30.641580,104.882980;30.639480,104.888010;30.639110,104.890770;30.638610,104.898760;30.637850,104.901670;30.635880,104.906270;30.632390,104.918810;30.631060,104.923600;30.630220,104.925540;30.627650,104.929780;30.626090,104.934020;30.625140,104.938570;30.624130,104.941130;30.621930,104.945360;30.620870,104.948430;30.618200,104.960550;30.616300,104.967070;30.614880,104.971770;30.614730,104.976470;30.614800,104.982790;30.614150,104.985940;30.612080,104.991930;30.608960,105.001450;30.608710,105.003040;30.608600,105.005420;30.609340,105.010880;30.610580,105.017850;30.611890,105.024110;30.614170,105.030960;30.615700,105.035930;30.615890,105.038570;30.615550,105.042350;30.615170,105.047360;30.615240,105.051110;30.615520,105.053670;30.615780,105.055280;30.616440,105.058600;30.617060,105.062630;30.617680,105.069680;30.618660,105.081340;30.619240,105.084250;30.621650,105.090350;30.623410,105.094820;30.623850,105.097250;30.623650,105.102810;30.623790,105.106130;30.625070,105.113110;30.625680,105.119800;30.626170,105.124500;30.627350,105.129790;30.628380,105.134360;30.628430,105.136830;30.628150,105.138880;30.624860,105.151950;30.623410,105.162810;30.621390,105.171580;30.621260,105.177590;30.621300,105.181040;30.620900,105.184160;30.617780,105.193280;30.616580,105.197450;30.615790,105.203660;30.614730,105.210730;30.612880,105.219570;30.611710,105.223480;30.607150,105.232480;30.606580,105.233780;30.606190,105.234760;30.604280,105.240820;30.602700,105.246040;30.602370,105.247210;30.602090,105.248680;30.602030,105.249950;30.602240,105.251660;30.603110,105.254540;30.603840,105.256780;30.604120,105.258320;30.604200,105.259740;30.604050,105.261650;30.603540,105.263870;30.602760,105.266740;30.602560,105.267930;30.602540,105.269670;30.602750,105.271210;30.603330,105.273770;30.604430,105.278460;30.604660,105.280090;30.604670,105.281770;30.604450,105.283700;30.603470,105.288690;30.603300,105.290150;30.603330,105.291680;30.603560,105.293200;30.603980,105.294580;30.604510,105.295810;30.606280,105.299460;30.607150,105.301530;30.607650,105.303290;30.608580,105.307630;30.609860,105.313810;30.610120,105.315660;30.610160,105.316480;30.609870,105.323730;30.609750,105.326670;30.609830,105.328190;30.610170,105.331050;30.610900,105.336680;30.611210,105.338890;30.611510,105.340290;30.611910,105.341500;30.613140,105.344240;30.614840,105.347940;30.615280,105.349390;30.615460,105.350760;30.615450,105.351950;30.615250,105.353390;30.614570,105.356460;30.614440,105.357380;30.614390,105.358720;30.614520,105.360190;30.615640,105.366370;30.615840,105.367970;30.615880,105.369930;30.615620,105.372230;30.615370,105.373270;30.614830,105.374900;30.613770,105.377410;30.613210,105.378660;30.609710,105.386450;30.607690,105.390380;30.605700,105.393420;30.601480,105.399280;30.600130,105.402030;30.598080,105.409760;30.597230,105.412450;30.593490,105.420700;30.591030,105.426630;30.590570,105.430240;30.589300,105.442200;30.589170,105.446750;30.589280,105.447990;30.589430,105.451400;30.589330,105.452630;30.588980,105.453900;30.588230,105.455290;30.587200,105.456420;30.586000,105.457190;30.582560,105.458480;30.581270,105.459070;30.579720,105.460240;30.574390,105.465250;30.571670,105.468190;30.568060,105.472560;30.566550,105.473820;30.561700,105.475910;30.555930,105.478450;30.554460,105.479770;30.552080,105.483220;30.547160,105.490740;30.543060,105.496850;30.541140,105.498680;30.535190,105.503560;30.531260,105.507460;30.530510,105.508250;30.527510,105.511460;30.522480,105.516840;30.519780,105.519640;30.515470,105.522980;30.508590,105.527510;30.507000,105.528310;30.503120,105.529550;30.495710,105.531740;30.492460,105.533000;30.486240,105.536650;30.482700,105.538810;30.480320,105.540020;30.473490,105.542510;30.472230,105.543050;30.471520,105.543460;30.470570,105.544200;30.468980,105.546130;30.463960,105.553330;30.458870,105.558460;30.455720,105.561540;30.453750,105.563460;30.452410,105.564750;30.446230,105.569960;30.443630,105.572480;30.435370,105.581550;30.432910,105.584020;30.430370,105.586020;30.424000,105.590350;30.421190,105.591760;30.408610,105.596040;30.406520,105.596830;30.405120,105.597790;30.401700,105.601750;30.400180,105.603460;30.396290,105.607170;30.393340,105.610400;30.388980,105.615270;30.388320,105.615920;30.386310,105.617600;30.378330,105.623450;30.376140,105.624780;30.368120,105.628440;30.355260,105.634150;30.352170,105.636790;30.346740,105.642040;30.345030,105.643150;30.343460,105.643980;30.339120,105.646230;30.331260,105.650360;30.330260,105.650800;30.327560,105.651630;30.321710,105.652960;30.316430,105.654130;30.313850,105.655230;30.311100,105.658050;30.308910,105.660790;30.306400,105.662960;30.303540,105.664910;30.300050,105.667380;30.298810,105.668630;30.297730,105.670210;30.296200,105.673200;30.295050,105.675450;30.292140,105.681060;30.290390,105.683490;30.288190,105.686070;30.286120,105.688520;30.284070,105.690970;30.282960,105.692230;30.281620,105.693770;30.280480,105.694830;30.278050,105.696300;30.275530,105.697540;30.274580,105.698170;30.273360,105.699260;30.271430,105.701310;30.268170,105.704820;30.264710,105.708580;30.261510,105.711740;30.257460,105.714920;30.254370,105.718130;30.251310,105.719880;30.248620,105.720660;30.246590,105.721300;30.244660,105.722230;30.243010,105.723360;30.239270,105.726750;30.237910,105.727840;30.236280,105.728900;30.234130,105.729990;30.231970,105.730730;30.229950,105.731160;30.226290,105.731600;30.224370,105.732020;30.222400,105.732800;30.216600,105.736220;30.212510,105.738830;30.210440,105.740670;30.208730,105.742800;30.207460,105.744870;30.205350,105.749660;30.202700,105.755560;30.200940,105.758750;30.198150,105.762880;30.195790,105.765740;30.192430,105.769120;30.188550,105.772560;30.186430,105.775030;30.182360,105.780960;30.180340,105.783380;30.177770,105.785920;30.172500,105.790700;30.169560,105.793930;30.165980,105.797920;30.163970,105.799610;30.162080,105.800900;30.156260,105.803850;30.154350,105.804990;30.151680,105.807100;30.149390,105.809470;30.147130,105.812460;30.142940,105.818940;30.142060,105.820190;30.140650,105.821910;30.139330,105.823240;30.138600,105.823930;30.136010,105.826070;30.133570,105.828280;30.131000,105.831020;30.127880,105.834960;30.124970,105.837960;30.121640,105.840550;30.111540,105.846140;30.108030,105.848670;30.104160,105.852580;30.101160,105.855730;30.096320,105.859720;30.094150,105.862070;30.092510,105.864540;30.090100,105.869510;30.089100,105.871120;30.087480,105.873080;30.085920,105.874500;30.084480,105.875520;30.080110,105.878520;30.077360,105.881340;30.074230,105.885040;30.071890,105.887280;30.069770,105.888900;30.065640,105.891330;30.060770,105.893630;30.056970,105.895890;30.053350,105.898550;30.046670,105.903500;30.041250,105.907440;30.038390,105.909060;30.035920,105.910050;30.031990,105.911030;30.023470,105.912880;30.019920,105.914290;30.016800,105.916090;30.013290,105.918860;30.009890,105.921750;30.005350,105.924730;30.000620,105.926920;29.997520,105.928030;29.995790,105.928780;29.993670,105.929970;29.991420,105.931600;29.989030,105.933820;29.985840,105.937490;29.984060,105.939210;29.982380,105.940470;29.980350,105.941670;29.976680,105.944000;29.974310,105.946300;29.972410,105.948850;29.971530,105.950420;29.969780,105.954620;29.968670,105.958390;29.967940,105.961070;29.966880,105.963910;29.965440,105.966550;29.963810,105.968790;29.957640,105.976380;29.951880,105.983510;29.950680,105.985370;29.949750,105.987270;29.948950,105.989590;29.948400,105.992380;29.948090,105.995320;29.947790,105.997490;29.947550,105.998630;29.946980,106.000530;29.945450,106.003740;29.944240,106.005510;29.942710,106.007240;29.940350,106.009120;29.936630,106.010950;29.934510,106.012090;29.933060,106.013290;29.931770,106.014830;29.930420,106.017480;29.929720,106.020320;29.929160,106.025480;29.928170,106.028320;29.926630,106.030550;29.924380,106.032360;29.919490,106.034410;29.916970,106.036100;29.915100,106.038090;29.914110,106.039550;29.912320,106.043290;29.910700,106.046570;29.908200,106.050220;29.905400,106.053130;29.903770,106.054470;29.896400,106.060160;29.893970,106.062300;29.891430,106.065150;29.889230,106.068380;29.886290,106.073360;29.882300,106.079020;29.878310,106.083490;29.864000,106.095830;29.862160,106.097320;29.858590,106.099990;29.854260,106.102610;29.850970,106.104980;29.846550,106.109170;29.843270,106.112890;29.838130,106.120190;29.835140,106.125530;29.833330,106.129310;29.832560,106.130880;29.831810,106.132260;29.831090,106.133450;29.829810,106.135330;29.827090,106.138490;29.825750,106.139770;29.822700,106.142120;29.819990,106.143890;29.818120,106.145270;29.816080,106.147010;29.812030,106.150980;29.809370,106.153300;29.806190,106.155550;29.801280,106.158460;29.800050,106.159170;29.795720,106.161650;29.792440,106.163630;29.790510,106.165020;29.788230,106.166990;29.784100,106.171200;29.780000,106.177030;29.776210,106.183740;29.771450,106.192140;29.768230,106.197510;29.764380,106.202710;29.762270,106.205280;29.759880,106.208230;29.757860,106.210640;29.756720,106.211910;29.755830,106.212780;29.754780,106.213710;29.752870,106.215090;29.751240,106.216040;29.748770,106.217290;29.745450,106.219200;29.743050,106.221010;29.740850,106.223040;29.739820,106.224050;29.738290,106.225480;29.737120,106.226430;29.735350,106.227750;29.732580,106.229480;29.729100,106.231190;29.727650,106.231780;29.724810,106.232680;29.720160,106.233770;29.717670,106.234580;29.713570,106.236420;29.710110,106.238550;29.706730,106.241210;29.702810,106.245230;29.698340,106.251620;29.695890,106.255320;29.693800,106.258210;29.688000,106.265100;29.686410,106.267040;29.685620,106.268400;29.684900,106.270000;29.684150,106.271720;29.682170,106.274870;29.681440,106.276090;29.680860,106.277350;29.680540,106.278330;29.680370,106.279000;29.679890,106.282180;29.679660,106.283440;29.678590,106.287050;29.678270,106.288320;29.678110,106.289360;29.678040,106.290620;29.678090,106.291880;29.678860,106.298330;29.678970,106.301100;29.678200,106.307480;29.677640,106.311390;29.676880,106.314420;29.674580,106.320690;29.674020,106.322200;29.672990,106.324620;29.670590,106.329110;29.667390,106.334500;29.664100,106.341520;29.663000,106.343450;29.659570,106.347150;29.657250,106.349770;29.650860,106.359070;29.647560,106.363650;29.645510,106.365710;29.643100,106.367480;29.638360,106.370180;29.636120,106.371430;29.634550,106.372430;29.633170,106.373560;29.631800,106.375020;29.629720,106.377770;29.627020,106.381460;29.625300,106.383750;29.623560,106.385590;29.621830,106.386910;29.619580,106.388060;29.616920,106.388760;29.603470,106.389890;29.595570,106.390400;29.592390,106.390390;29.590870,106.390330;29.580810,106.389260;29.570000,106.387910;29.567710,106.387920;29.565670,106.388350;29.564100,106.389050;29.561260,106.391220;29.559320,106.393930;29.554780,106.405080;29.550640,106.415940;29.545100,106.430480;29.543390,106.434590;29.542380,106.436450;29.541010,106.438440;29.538330,106.441870;29.537730,106.442420;29.537730,106.442420;29.537270,106.442990;29.537180,106.443220;29.537140,106.443420;29.537150,106.443630;29.537200,106.443860;29.537320,106.444120;29.537580,106.444390;29.537790,106.444510;29.538010,106.444560;29.538320,106.444520;29.539190,106.444140;29.539820,106.443980;29.540150,106.443910;29.547800,106.443900;29.549180,106.444090;29.550030,106.444400;29.550610,106.444710;29.553490,106.446630;29.556430,106.448620;29.559070,106.450390;29.560030,106.451030;29.562790,106.452900;29.563280,106.453230;29.566300,106.455180;29.568660,106.456520;29.571930,106.458320;29.572770,106.458940;29.573840,106.460090;29.576570,106.463590;29.578150,106.465600;29.579160,106.466890;29.581180,106.469480;29.582380,106.470930;29.582600,106.471130;29.583280,106.471590;29.584080,106.471970;29.584480,106.472090;29.586020,106.472390;29.590610,106.473320;29.592070,106.473870;29.594320,106.475390;29.596190,106.476720;29.597730,106.477800;29.600350,106.479650;29.601580,106.480540;29.602550,106.481240;29.603150,106.481770;29.604090,106.482830;29.604460,106.483430;29.605010,106.484540;29.606040,106.487510;29.607230,106.490930;29.608450,106.494450;29.608450,106.494450;29.608510,106.494630;29.610330,106.500010;29.611070,106.502150;29.611720,106.504260;29.611840,106.504750;29.611930,106.505380;29.611990,106.505870;29.612080,106.508150;29.612190,106.510760;29.612310,106.513070;29.612460,106.514800;29.612730,106.516920;29.612960,106.518370;29.613200,106.519630;29.613630,106.521350;29.614090,106.522800;29.615050,106.525150;29.615850,106.527050;29.615960,106.527340;29.616040,106.527680;29.616080,106.527880;29.616110,106.529200;29.616030,106.529620;29.615760,106.530440;29.615490,106.531120;29.615350,106.531540;29.615270,106.531860;29.615190,106.532340;29.615170,106.533160;29.615200,106.533520;29.615260,106.533850;29.615410,106.534380;29.615560,106.534730;29.615760,106.535150;29.616760,106.537060;29.617910,106.539280;29.618910,106.541260;29.619130,106.541760;29.619380,106.542600;29.619550,106.543400;29.619640,106.544280;29.619920,106.548050;29.620200,106.551880;29.620470,106.554460;29.620290,106.555380;29.620070,106.556020;29.619790,106.556510;29.619420,106.556950;29.619020,106.557290;29.617900,106.557870;29.616100,106.558060;29.615200,106.558220;29.614640,106.558380;29.614090,106.558610;29.613490,106.558940;29.612880,106.559370;29.612100,106.560070;29.611250,106.560840;29.610570,106.561530;29.610340,106.561720;29.610160,106.561790;29.609920,106.561820;29.609470,106.561760;29.607600,106.561440;29.602350,106.560530;29.598250,106.559810;29.595320,106.559290;29.593200,106.558940;29.592840,106.558900;29.592570,106.558890;29.591720,106.558930;29.591430,106.558970;29.590890,106.559090;29.590350,106.559250;29.589840,106.559440;29.589370,106.559660;29.588710,106.560040;29.587250,106.560920;29.586770,106.561210;29.584480,106.562560;29.584300,106.562670;29.583940,106.562910;29.583420,106.563200;29.582660,106.563700;29.581690,106.564240;29.580480,106.564950;29.577900,106.566530;29.577040,106.567030;29.576250,106.567370;29.575340,106.567560;29.572400,106.567260;29.572400,106.567260;29.569560,106.566850;29.564590,106.566210;29.562910,106.565990;29.562830,106.565980;29.562700,106.565740;29.562660,106.565590;29.562480,106.564350;29.562430,106.563680;29.562470,106.563390;29.563180,106.562100;29.563330,106.561650;29.563360,106.561330;29.563380,106.560020;29.563390,106.559980;29.563440,106.559690;29.563530,106.559470;29.564280,106.558270;29.564370,106.558060;29.564390,106.557890;29.564350,106.557660;29.563600,106.556400;29.563070,106.555480;29.562980,106.555240;29.562940,106.554960;29.562960,106.554700;29.563170,106.553810;29.563170,106.553810;29.563250,106.553590;29.563250,106.553440;29.563210,106.553220;29.563150,106.552980;29.563150,106.552980;29.563290,106.552880;29.563270,106.552780;29.563290,106.552650;29.563370,106.552510;29.563550,106.552340;29.563560,106.552270;29.563520,106.552150";
            if (!line) line = map.Line();
            else line.clear();
            //var car = map.CarIcon();
            // var icon = map.Icon();
            // var lat = latlng.split(';')[3].split(',')[0];
            // var lng = latlng.split(';')[3].split(',')[1];
            // //car.load({ CarLicense: 'test', GpsLat: lat, GpsLng: lng,Direction:0,Status:1 });
            // icon.loadIcon('id', lat + "," + lng, "Images/test.png", "fuck", function(c) {
            //     alert(c);
            // });
            line.loadLine(latlng);
        }

        function Line_addHandlerEvent() {
            var name = 'click';
            line.addHandlerEvent(name, function (lat, lng) {
                alert(lat + "," + lng);
            });
        }

        function Line_getPath() {
            var path = line.getPath();
            alert(path);
        }

        function Line_setOptions() {
            line.setOptions({
                strokeColor: "#EF0000",
                strokeOpacity: 0.5,
                strokeWeight: 2,
                zIndex: 99,
                visible: true
            });
        }

        function Line_setPath() {
            var latlng = "30.642550,104.110050;30.642660,104.109940;30.642770,104.109890;30.642890,104.109870;30.643360,104.110160;30.643550,104.110280;30.644010,104.110550;30.645490,104.111470;30.647040,104.112390;30.647650,104.112750;30.649060,104.113610;30.650800,104.114690;30.650890,104.114710;30.651870,104.114910;30.652530,104.114910;30.653280,104.116080;30.653960,104.117130;30.655620,104.120720;30.657790,104.125780;30.657790,104.125780;30.658980,104.129320;30.660230,104.131790;30.660810,104.132540;30.661120,104.132920;30.661760,104.133690;30.664250,104.135950;30.665130,104.136390;30.667020,104.137070;30.667370,104.137140;30.670600,104.137240;30.671790,104.137310;30.672430,104.137450;30.672430,104.137450;30.671010,104.139350;30.669640,104.141160;30.668360,104.142960;30.667720,104.144200;30.667280,104.145610;30.667130,104.146450;30.667070,104.147640;30.667130,104.148790;30.667220,104.149440;30.667820,104.152840;30.668860,104.158950;30.669020,104.159990;30.669400,104.162050;30.669590,104.163040;30.669880,104.164570;30.670550,104.168390;30.670700,104.169280;30.671030,104.171100;30.671540,104.174340;30.672060,104.178850;30.672220,104.182300;30.672420,104.191710;30.672480,104.200690;30.672190,104.205910;30.671930,104.210860;30.671440,104.221770;30.671620,104.225860;30.672380,104.230680;30.673960,104.236370;30.677320,104.244640;30.679640,104.250880;30.682110,104.258550;30.687940,104.276970;30.693970,104.290140;30.695640,104.293770;30.706060,104.311970;30.713430,104.324830;30.715070,104.328920;30.717310,104.332620;30.730590,104.346400;30.733270,104.352110;30.733820,104.353660;30.736640,104.364490;30.738690,104.378850;30.739050,104.381440;30.739270,104.382730;30.740020,104.386490;30.741190,104.391240;30.741370,104.392420;30.741350,104.395840;30.739710,104.401890;30.738360,104.406700;30.738440,104.413450;30.738740,104.418810;30.738080,104.422870;30.734610,104.431080;30.732420,104.435900;30.730460,104.438590;30.727500,104.439990;30.722220,104.439610;30.718490,104.439200;30.715970,104.439470;30.713480,104.440990;30.711920,104.443070;30.709140,104.449990;30.702090,104.467720;30.700700,104.470440;30.697240,104.473300;30.692420,104.474080;30.690600,104.474520;30.688450,104.475800;30.686680,104.478160;30.685470,104.483910;30.683150,104.492160;30.682510,104.495240;30.683670,104.499490;30.686750,104.503260;30.687780,104.505080;30.688370,104.507150;30.688490,104.508950;30.688170,104.511250;30.685300,104.524500;30.684020,104.530880;30.684040,104.532400;30.684340,104.534300;30.685350,104.537600;30.686470,104.541250;30.686740,104.542770;30.686900,104.544920;30.686860,104.546790;30.686390,104.554380;30.686620,104.559280;30.687120,104.564020;30.687260,104.567430;30.686890,104.569780;30.685710,104.574050;30.684980,104.577150;30.684840,104.579650;30.685300,104.586330;30.685390,104.589260;30.685090,104.591920;30.683820,104.598920;30.683460,104.602860;30.683710,104.610680;30.683560,104.613540;30.681690,104.624250;30.679780,104.633120;30.676160,104.643870;30.675550,104.646820;30.674480,104.654570;30.670010,104.663570;30.668990,104.666580;30.667520,104.681210;30.666940,104.685730;30.665570,104.689700;30.663180,104.696080;30.662530,104.698230;30.661780,104.700250;30.660590,104.702920;30.660490,104.703140;30.658860,104.706000;30.657090,104.709360;30.656580,104.710530;30.655910,104.712790;30.655430,104.715540;30.654380,104.719670;30.650580,104.729120;30.649120,104.732680;30.648670,104.734290;30.648350,104.736160;30.648290,104.737500;30.648640,104.740890;30.649460,104.743710;30.650650,104.749260;30.650710,104.752750;30.649970,104.762380;30.650080,104.772090;30.649760,104.776160;30.648100,104.781430;30.647040,104.785140;30.646990,104.791030;30.646770,104.793230;30.645950,104.795870;30.643240,104.800300;30.640550,104.804570;30.639620,104.807520;30.639450,104.810640;30.639990,104.820450;30.639390,104.830150;30.639280,104.833040;30.639670,104.835940;30.642470,104.845190;30.643350,104.848060;30.643880,104.851620;30.643500,104.860380;30.643700,104.863750;30.644080,104.867180;30.644760,104.873060;30.644650,104.875030;30.644260,104.876960;30.643850,104.878120;30.641580,104.882980;30.639480,104.888010;30.639110,104.890770;30.638610,104.898760;30.637850,104.901670;30.635880,104.906270;30.632390,104.918810;30.631060,104.923600;30.630220,104.925540;30.627650,104.929780;30.626090,104.934020;30.625140,104.938570;30.624130,104.941130;30.621930,104.945360;30.620870,104.948430;30.618200,104.960550;30.616300,104.967070;30.614880,104.971770;30.614730,104.976470;30.614800,104.982790;30.614150,104.985940;30.612080,104.991930;30.608960,105.001450;30.608710,105.003040;30.608600,105.005420;30.609340,105.010880;30.610580,105.017850;30.611890,105.024110;30.614170,105.030960;30.615700,105.035930;30.615890,105.038570;30.615550,105.042350;30.615170,105.047360;30.615240,105.051110;30.615520,105.053670;30.615780,105.055280;30.616440,105.058600;30.617060,105.062630;30.617680,105.069680;30.618660,105.081340;30.619240,105.084250;30.621650,105.090350;30.623410,105.094820;30.623850,105.097250;30.623650,105.102810;30.623790,105.106130;30.625070,105.113110;30.625680,105.119800;30.626170,105.124500;30.627350,105.129790;30.628380,105.134360;30.628430,105.136830;30.628150,105.138880;30.624860,105.151950;30.623410,105.162810;30.621390,105.171580;30.621260,105.177590;30.621300,105.181040;30.620900,105.184160;30.617780,105.193280;30.616580,105.197450;30.615790,105.203660;30.614730,105.210730;30.612880,105.219570;30.611710,105.223480;30.607150,105.232480;30.606580,105.233780;30.606190,105.234760;30.604280,105.240820;30.602700,105.246040;30.602370,105.247210;30.602090,105.248680;30.602030,105.249950;30.602240,105.251660;30.603110,105.254540;30.603840,105.256780;30.604120,105.258320;30.604200,105.259740;30.604050,105.261650;30.603540,105.263870;30.602760,105.266740;30.602560,105.267930;30.602540,105.269670;30.602750,105.271210;30.603330,105.273770;30.604430,105.278460;30.604660,105.280090;30.604670,105.281770;30.604450,105.283700;30.603470,105.288690;30.603300,105.290150;30.603330,105.291680;30.603560,105.293200;30.603980,105.294580;30.604510,105.295810;30.606280,105.299460;30.607150,105.301530;30.607650,105.303290;30.608580,105.307630;30.609860,105.313810;30.610120,105.315660;30.610160,105.316480;30.609870,105.323730;30.609750,105.326670;30.609830,105.328190;30.610170,105.331050;30.610900,105.336680;30.611210,105.338890;30.611510,105.340290;30.611910,105.341500;30.613140,105.344240;30.614840,105.347940;30.615280,105.349390;30.615460,105.350760;30.615450,105.351950;30.615250,105.353390;30.614570,105.356460;30.614440,105.357380;30.614390,105.358720;30.614520,105.360190;30.615640,105.366370;30.615840,105.367970;30.615880,105.369930;30.615620,105.372230;30.615370,105.373270;30.614830,105.374900;30.613770,105.377410;30.613210,105.378660;30.609710,105.386450;30.607690,105.390380;30.605700,105.393420;30.601480,105.399280;30.600130,105.402030;30.598080,105.409760;30.597230,105.412450;30.593490,105.420700;30.591030,105.426630;30.590570,105.430240;30.589300,105.442200;30.589170,105.446750;30.589280,105.447990;30.589430,105.451400;30.589330,105.452630;30.588980,105.453900;30.588230,105.455290;30.587200,105.456420;30.586000,105.457190;30.582560,105.458480;30.581270,105.459070;30.579720,105.460240;30.574390,105.465250;30.571670,105.468190;30.568060,105.472560;30.566550,105.473820;30.561700,105.475910;30.555930,105.478450;30.554460,105.479770;30.552080,105.483220;30.547160,105.490740;30.543060,105.496850;30.541140,105.498680;30.535190,105.503560;30.531260,105.507460;30.530510,105.508250;30.527510,105.511460;30.522480,105.516840;30.519780,105.519640;30.515470,105.522980;30.508590,105.527510;30.507000,105.528310;30.503120,105.529550;30.495710,105.531740;30.492460,105.533000;30.486240,105.536650;30.482700,105.538810;30.480320,105.540020;30.473490,105.542510;30.472230,105.543050;30.471520,105.543460;30.470570,105.544200;30.468980,105.546130;30.463960,105.553330;30.458870,105.558460;30.455720,105.561540;30.453750,105.563460;30.452410,105.564750;30.446230,105.569960;30.443630,105.572480;30.435370,105.581550;30.432910,105.584020;30.430370,105.586020;30.424000,105.590350;30.421190,105.591760;30.408610,105.596040;30.406520,105.596830;30.405120,105.597790;30.401700,105.601750;30.400180,105.603460;30.396290,105.607170;30.393340,105.610400;30.388980,105.615270;30.388320,105.615920;30.386310,105.617600;30.378330,105.623450;30.376140,105.624780;30.368120,105.628440;30.355260,105.634150;30.352170,105.636790;30.346740,105.642040;30.345030,105.643150;30.343460,105.643980;30.339120,105.646230;30.331260,105.650360;30.330260,105.650800;30.327560,105.651630;30.321710,105.652960;30.316430,105.654130;30.313850,105.655230;30.311100,105.658050;30.308910,105.660790;30.306400,105.662960;30.303540,105.664910;30.300050,105.667380;30.298810,105.668630;30.297730,105.670210;30.296200,105.673200;30.295050,105.675450;30.292140,105.681060;30.290390,105.683490;30.288190,105.686070;30.286120,105.688520;30.284070,105.690970;30.282960,105.692230;30.281620,105.693770;30.280480,105.694830;30.278050,105.696300;30.275530,105.697540;30.274580,105.698170;30.273360,105.699260;30.271430,105.701310;30.268170,105.704820;30.264710,105.708580;30.261510,105.711740;30.257460,105.714920;30.254370,105.718130;30.251310,105.719880;30.248620,105.720660;30.246590,105.721300;30.244660,105.722230;30.243010,105.723360;30.239270,105.726750;30.237910,105.727840;30.236280,105.728900;30.234130,105.729990;30.231970,105.730730;30.229950,105.731160;30.226290,105.731600;30.224370,105.732020;30.222400,105.732800;30.216600,105.736220;30.212510,105.738830;30.210440,105.740670;30.208730,105.742800;30.207460,105.744870;30.205350,105.749660;30.202700,105.755560;30.200940,105.758750;30.198150,105.762880;30.195790,105.765740;30.192430,105.769120;30.188550,105.772560;30.186430,105.775030;30.182360,105.780960;30.180340,105.783380;30.177770,105.785920;30.172500,105.790700;30.169560,105.793930;30.165980,105.797920;30.163970,105.799610;30.162080,105.800900;30.156260,105.803850;30.154350,105.804990;30.151680,105.807100;30.149390,105.809470;30.147130,105.812460;30.142940,105.818940;30.142060,105.820190;30.140650,105.821910;30.139330,105.823240;30.138600,105.823930;30.136010,105.826070;30.133570,105.828280;30.131000,105.831020;30.127880,105.834960;30.124970,105.837960;30.121640,105.840550;30.111540,105.846140;30.108030,105.848670;30.104160,105.852580;30.101160,105.855730;30.096320,105.859720;30.094150,105.862070;30.092510,105.864540;30.090100,105.869510;30.089100,105.871120;30.087480,105.873080;30.085920,105.874500;30.084480,105.875520;30.080110,105.878520;30.077360,105.881340;30.074230,105.885040;30.071890,105.887280;30.069770,105.888900;30.065640,105.891330;30.060770,105.893630;30.056970,105.895890;30.053350,105.898550;30.046670,105.903500;30.041250,105.907440;30.038390,105.909060;30.035920,105.910050;30.031990,105.911030;30.023470,105.912880;30.019920,105.914290;30.016800,105.916090;30.013290,105.918860;30.009890,105.921750;30.005350,105.924730;30.000620,105.926920;29.997520,105.928030;29.995790,105.928780;29.993670,105.929970;29.991420,105.931600;29.989030,105.933820;29.985840,105.937490;29.984060,105.939210;29.982380,105.940470;29.980350,105.941670;29.976680,105.944000;29.974310,105.946300;29.972410,105.948850;29.971530,105.950420;29.969780,105.954620;29.968670,105.958390;29.967940,105.961070;29.966880,105.963910;29.965440,105.966550;29.963810,105.968790;29.957640,105.976380;29.951880,105.983510;29.950680,105.985370;29.949750,105.987270;29.948950,105.989590;29.948400,105.992380;29.948090,105.995320;29.947790,105.997490;29.947550,105.998630;29.946980,106.000530;29.945450,106.003740;29.944240,106.005510;29.942710,106.007240;29.940350,106.009120;29.936630,106.010950;29.934510,106.012090;29.933060,106.013290;29.931770,106.014830;29.930420,106.017480;29.929720,106.020320;29.929160,106.025480;29.928170,106.028320;29.926630,106.030550;29.924380,106.032360;29.919490,106.034410;29.916970,106.036100;29.915100,106.038090;29.914110,106.039550;29.912320,106.043290;29.910700,106.046570;29.908200,106.050220;29.905400,106.053130;29.903770,106.054470;29.896400,106.060160;29.893970,106.062300;29.891430,106.065150;29.889230,106.068380;29.886290,106.073360;29.882300,106.079020;29.878310,106.083490;29.864000,106.095830;29.862160,106.097320;29.858590,106.099990;29.854260,106.102610;29.850970,106.104980;29.846550,106.109170;29.843270,106.112890;29.838130,106.120190;29.835140,106.125530;29.833330,106.129310;29.832560,106.130880;29.831810,106.132260;29.831090,106.133450;29.829810,106.135330;29.827090,106.138490;29.825750,106.139770;29.822700,106.142120;29.819990,106.143890;29.818120,106.145270;29.816080,106.147010;29.812030,106.150980;29.809370,106.153300;29.806190,106.155550;29.801280,106.158460;29.800050,106.159170;29.795720,106.161650;29.792440,106.163630;29.790510,106.165020;29.788230,106.166990;29.784100,106.171200;29.780000,106.177030;29.776210,106.183740;29.771450,106.192140;29.768230,106.197510;29.764380,106.202710;29.762270,106.205280;29.759880,106.208230;29.757860,106.210640;29.756720,106.211910;29.755830,106.212780;29.754780,106.213710;29.752870,106.215090;29.751240,106.216040;29.748770,106.217290;29.745450,106.219200;29.743050,106.221010;29.740850,106.223040;29.739820,106.224050;29.738290,106.225480;29.737120,106.226430;29.735350,106.227750;29.732580,106.229480;29.729100,106.231190;29.727650,106.231780;29.724810,106.232680;29.720160,106.233770;29.717670,106.234580;29.713570,106.236420;29.710110,106.238550;29.706730,106.241210;29.702810,106.245230;29.698340,106.251620;29.695890,106.255320;29.693800,106.258210;29.688000,106.265100;29.686410,106.267040;29.685620,106.268400;29.684900,106.270000;29.684150,106.271720;29.682170,106.274870;29.681440,106.276090;29.680860,106.277350;29.680540,106.278330;29.680370,106.279000;29.679890,106.282180;29.679660,106.283440;29.678590,106.287050;29.678270,106.288320;29.678110,106.289360;29.678040,106.290620;29.678090,106.291880;29.678860,106.298330;29.678970,106.301100;29.678200,106.307480;29.677640,106.311390;29.676880,106.314420;29.674580,106.320690;29.674020,106.322200;29.672990,106.324620;29.670590,106.329110;29.667390,106.334500;29.664100,106.341520;29.663000,106.343450;29.659570,106.347150;29.657250,106.349770;29.650860,106.359070;29.647560,106.363650;29.645510,106.365710;29.643100,106.367480;29.638360,106.370180;29.636120,106.371430;29.634550,106.372430;29.633170,106.373560;29.631800,106.375020;29.629720,106.377770;29.627020,106.381460;29.625300,106.383750;29.623560,106.385590;29.621830,106.386910;29.619580,106.388060;29.616920,106.388760;29.603470,106.389890;29.595570,106.390400;29.592390,106.390390;29.590870,106.390330;29.580810,106.389260;29.570000,106.387910;29.567710,106.387920;29.565670,106.388350;29.564100,106.389050;29.561260,106.391220;29.559320,106.393930;29.554780,106.405080;29.550640,106.415940;29.545100,106.430480;29.543390,106.434590;29.542380,106.436450;29.541010,106.438440;29.538330,106.441870;29.537730,106.442420;29.537730,106.442420;29.537270,106.442990;29.537180,106.443220;29.537140,106.443420;29.537150,106.443630;29.537200,106.443860;29.537320,106.444120;29.537580,106.444390;29.537790,106.444510;29.538010,106.444560;29.538320,106.444520;29.539190,106.444140;29.539820,106.443980;29.540150,106.443910;29.547800,106.443900;29.549180,106.444090;29.550030,106.444400;29.550610,106.444710;29.553490,106.446630;29.556430,106.448620;29.559070,106.450390;29.560030,106.451030;29.562790,106.452900;29.563280,106.453230;29.566300,106.455180;29.568660,106.456520;29.571930,106.458320;29.572770,106.458940;29.573840,106.460090;29.576570,106.463590;29.578150,106.465600;29.579160,106.466890;29.581180,106.469480;29.582380,106.470930;29.582600,106.471130;29.583280,106.471590;29.584080,106.471970;29.584480,106.472090;29.586020,106.472390;29.590610,106.473320;29.592070,106.473870;29.594320,106.475390;29.596190,106.476720;29.597730,106.477800;29.600350,106.479650;29.601580,106.480540;29.602550,106.481240;29.603150,106.481770;29.604090,106.482830;29.604460,106.483430;29.605010,106.484540;29.606040,106.487510;29.607230,106.490930;29.608450,106.494450;29.608450,106.494450;29.608510,106.494630;29.610330,106.500010;29.611070,106.502150;29.611720,106.504260;29.611840,106.504750;29.611930,106.505380;29.611990,106.505870;29.612080,106.508150;29.612190,106.510760;29.612310,106.513070;29.612460,106.514800;29.612730,106.516920;29.612960,106.518370;29.613200,106.519630;29.613630,106.521350;29.614090,106.522800;29.615050,106.525150;29.615850,106.527050;29.615960,106.527340;29.616040,106.527680;29.616080,106.527880;29.616110,106.529200;29.616030,106.529620;29.615760,106.530440;29.615490,106.531120;29.615350,106.531540;29.615270,106.531860;29.615190,106.532340;29.615170,106.533160;29.615200,106.533520;29.615260,106.533850;29.615410,106.534380;29.615560,106.534730;29.615760,106.535150;29.616760,106.537060;29.617910,106.539280;29.618910,106.541260;29.619130,106.541760;29.619380,106.542600;29.619550,106.543400;29.619640,106.544280;29.619920,106.548050;29.620200,106.551880;29.620470,106.554460;29.620290,106.555380;29.620070,106.556020;29.619790,106.556510;29.619420,106.556950;29.619020,106.557290;29.617900,106.557870;29.616100,106.558060;29.615200,106.558220;29.614640,106.558380;29.614090,106.558610;29.613490,106.558940;29.612880,106.559370;29.612100,106.560070;29.611250,106.560840;29.610570,106.561530;29.610340,106.561720;29.610160,106.561790;29.609920,106.561820;29.609470,106.561760;29.607600,106.561440;29.602350,106.560530;29.598250,106.559810;29.595320,106.559290;29.593200,106.558940;29.592840,106.558900;29.592570,106.558890;29.591720,106.558930;29.591430,106.558970;29.590890,106.559090;29.590350,106.559250;29.589840,106.559440;29.589370,106.559660;29.588710,106.560040;29.587250,106.560920;29.586770,106.561210;29.584480,106.562560;29.584300,106.562670;29.583940,106.562910;29.583420,106.563200;29.582660,106.563700;29.581690,106.564240;29.580480,106.564950;29.577900,106.566530;29.577040,106.567030;29.576250,106.567370;29.575340,106.567560;29.572400,106.567260;29.572400,106.567260;29.569560,106.566850;29.564590,106.566210;29.562910,106.565990;29.562830,106.565980;29.562700,106.565740;29.562660,106.565590;29.562480,106.564350;29.562430,106.563680;29.562470,106.563390;29.563180,106.562100;29.563330,106.561650;29.563360,106.561330;29.563380,106.560020;29.563390,106.559980;29.563440,106.559690;29.563530,106.559470;29.564280,106.558270;29.564370,106.558060;29.564390,106.557890;29.564350,106.557660;29.563600,106.556400;29.563070,106.555480;29.562980,106.555240;29.562940,106.554960;29.562960,106.554700;29.563170,106.553810;29.563170,106.553810;29.563250,106.553590;29.563250,106.553440;29.563210,106.553220;29.563150,106.552980;29.563150,106.552980;29.563290,106.552880;29.563270,106.552780;29.563290,106.552650;29.563370,106.552510;29.563550,106.552340;29.563560,106.552270;29.563520,106.552150";
            var latlngArray = latlng.split(';');
            var i = 1;
            window.setInterval(function () {
                if (i > latlngArray.length) {
                    i = 1;
                    latlngArray = latlngArray.reverse();
                }
                i = i + 5;
                window.line.loadLine(latlngArray.slice(0, i).join(';'));
            }, 100);
        }

        function Line_getDistance() {
            if (line) line.clear();
            else line = map.Line();
            line.getDistance('k');
        }

        function Line_clear() {
            if (line) {
                line.clear();
            }
        }
        /*---------Fence----------*/
        var fence;

        function Fence_drawFence() {
            if (fence) fence.clear();
            else fence = map.Fence();
            fence.drawFence(function (a) {
                alert(a);
            });
        }

        function Fence_getPath() {
            var points = fence.getPath();
            alert(points);
        }

        function Fence_setOptions() {
            fence.setOptions({
                fillColor: "Blue",
                fileOpacity: 0.2,
                strokeColor: "gray",
                strokeOpacity: 0.8,
                strokeWeight: 2
            });
        }

        function Fence_setPath() {
            var str = "30.758719,106.419721;29.290296,105.744062;29.978415,106.655927;29.56301,107.573286;30.811161,107.034955";
            fence.setPath(str);
        }

        function Fence_loadFence() {
            var str = "29.758719,106.419721;29.290296,105.744062;28.978415,106.655927;29.56301,107.573286;29.811161,107.034955";
            if (fence) fence.clear();
            fence = map.Fence();
            fence.loadFence(str);
        }

        function Fence_loadFenceAndEdit() {
            var str = "29.758719,106.419721;29.290296,105.744062;28.978415,106.655927;29.56301,107.573286;29.811161,107.034955";
            if (fence) fence.clear();
            else fence = map.Fence();
            fence.loadFenceAndEdit(str);
        }

        function Fence_clear() {
            if (fence) fence.clear();
        };
        /*----------Circle----------*/
        var circle;

        function Circle_drawCircle() {
            if (circle) circle.clear();
            else circle = map.Circle();
            circle.drawCircle(function (a, b) {
                alert(a + "," + b);
            });
        }

        function Circle_setPath() {
            circle.setPath("30.555358,106.545380", 1500);
        }

        function Circle_setOptions() {
            circle.setOptions({
                strokeColor: "blue",
                strokeOpacity: 0.8,
                strokeWeight: 1,
                fillColor: "gray",
                fillOpacity: 0.35
            });
        }

        function Circle_getPath() {
            alert(circle.getPath());
        }

        function Circle_loadCircle() {
            if (circle) circle.clear();
            else circle = map.Circle();
            circle.loadCircle("29.555358,106.545380", 1457);
        }

        function Circle_clear() {
            if (circle) circle.clear();
        }
        /*--------Rectangle-------*/
        var rectangle;

        function Rectangle_drawRectangle() {
            if (rectangle) rectangle.clear();
            else rectangle = map.Rectangle();
            rectangle.drawRectangle(function (a) {
                alert(a);
            });
        }

        function Rectangle_setOptions() {
            rectangle.setOptions({
                fillColor: 'red',
                fillOpacity: 0.3,
                strokeColor: 'blue',
                strokeOpacity: 0.3
            });
        }

        function Rectangle_setPath() {
            rectangle.setPath("7.013667927566642,100.546875;-9.102096738726443,119.53125");
        }

        function Rectangle_getPath() {
            var path = rectangle.getPath();
            alert(path);
        }

        function Rectangle_clear() {
            if (rectangle) rectangle.clear();
        }
        /**screen shot test demo**/
        function Screen_shot() {
            // window.alert('screen shot');
            // var picarea = document.getElementById('map');
            var map = document.getElementById('map').getElementsByTagName('img');
            var canvas = document.getElementById('mycavans');
            for (var i = 0; i < map.length; i++) {
                canvas.width += map[i].clientWidth;
                canvas.height = canvas.height < map[i].clientHeight ? map[i].clientHeight : canvas.height;
            }
            var ctx = canvas.getContext('2d');
            var indexHead = 0;
            for (var i = 0; i < map.length; i++) {
                indexHead += map[i].clientWidth;
                // ctx.drawImage(map[0],0, 0, map[0].width, map[0].height);
                ctx.drawImage(map[i],(indexHead - map[i].clientWidth), 0);
                // canvas.height += map[i].clientHeight;

            };
            var base64 = canvas.toDataURL('images/png');
            var myimg = document.getElementById('myimg');
            myimg.src = base64;

            // ctx.drawImage(map[0], 0, 0, map[0].width, map[0].height);
            // ctx.drawImage(map[1], map[0].width, 0, map[1].width, map[1].height);

        }
        function Rectangle_loadRectangle() {
            if (rectangle) rectangle.clear();
            else rectangle = map.Rectangle();
            rectangle.loadRectangle("7.013667927566642,100.546875;-9.102096738726443,119.53125");
        }
        /*-------------ChangeMapType-------------*/
        function ChangeMapType() {
            var mapType = sel_maptype.value;
            location.href = "Demo.htm?" + mapType;
        }
    </script>
    <title></title>
</head>

<body>
    <div id="map" style=" width:650px; height:400px; float:left; position: relative;"></div>
    <fieldset style=" list-style:none;height:400px; float:left; margin:0; padding:0">
        <legend>Map</legend>
        <div>
            <ul>
                <li><button onclick="getBounds()">getBounds</button></li>
                <li><button type="button" onclick="getCenter()">getCenter</button></li>
                <li><input id="inp_lat1" /><input id="inp_lng1" /><button onclick="setCenter()">setCenter</button></li>
                <li><button onclick="getZoom()">getZoom</button></li>
                <li><input id="inp_zoom1" /><button onclick="setZoom()">setZoom</button></li>
                <li><input id="inp_zoom2" /><button onclick="setMaxZoom()">setMaxZoom</button></li>
                <li><input id="inp_zoom3" /><button onclick="setMinZoom()">setMinZoom</button></li>
                <li><input type="text" id="inp_lat" style=" width:50px;" /><input style=" width:50px;" type="text" id="inp_lng"
                    /><button type="button" onclick="getPosition()">getPosition</button></li>
                <li><input type="text" id="inp_address" style="width:100px;" /><button type="button" onclick="searchPosition()">searchPosition</button></li>
                <li><button type="button" onclick="boxZoomIn()">boxZoomIn</button></li>
                <li><button type="button" onclick="boxZoomOut()">boxZoomOut</button></li>
                <li><button type="button" onclick="GetUserLocation()">GetUserLocation</button></li>
                <li><button type="button" onclick="isPointInPolygon()">isPointInPolygon</button></li>
                <li><input id="inp_eventName" type='text' /><input id="inp_eventObj" type='text' /></li>
                <li><input id="inp_pointpixel" type='text' /><button type="button" onclick="getCenterPointPixel()">getCenterPointPixel</button></li>
                <li><button type="button" onclick="pixelToPoint()">pixelToPoint</button><input id="inp_pixelpoint" type='text'
                    /></li>
            </ul>
        </div>
    </fieldset>
    <fieldset style=" list-style:none;height:400px; float:left;margin:0; padding:0">
        <legend>Icon</legend>
        <div>
            <ul>
                <li><button type="button" onclick="icon_drawSign()">drawSign</button></li>
                <li><button onclick="icon_getPosition()">getPositon</button></li>
                <li><button onclick="icon_getIcon()">getIcon</button></li>
                <li><button onclick="icon_setIcon()">setIcon</button></li>
                <li><button onclick="icon_clear()">clear</button></li>
                <li><button onclick="icon_loadIcon()">loadIcon</button></li>
                <li><button onclick="icon_loadIconAndOpenInfoWindow()">loadIconAndOpenInfoWindow</button></li>
                <li><button onclick="icon_loadCustomIcon()">loadCustomIcon</button></li>
                <li><button onclick="icon_setInfoWindowContent()">setInfoWindowContent</button></li>
                <li><button onclick="icon_openInfoWindow()">openInfoWindow</button></li>
                <li><button onclick="icon_closeInfoWindow()">closeInfoWindow</button></li>
            </ul>
        </div>
    </fieldset>
    <fieldset style=" list-style:none;height:400px; float:left;margin:0; padding:0">
        <legend>CarIcon</legend>
        <div>
            <ul>
                <li><button type="button" onclick="carIcon_load()">load</button></li>
                <li><button type="button" onclick="carIcon_getCenter()">getCenter</button></li>
                <li><button type="button" onclick="carIcon_lock()">Lock</button></li>
                <li><button type="button" onclick="carIcon_unlock()">UnLock</button></li>
                <li><button type="button" onclick="carIcon_clear()">clear</button></li>
                <li><button type="button" onclick="carIcon_setPosition()">setPosition</button></li>
                <li><button type="button" onclick="carIcon_setZIndex()">setZIndex</button></li>
                <li><button type="button" onclick="carIcon_setInfoWindowContent()">setInfoWindowContent</button></li>
                <li><button type="button" onclick="carIcon_setBorderColor()">setBorderColor</button></li>
            </ul>
        </div>
    </fieldset>
    <fieldset style="height:400px; float:left;margin:0; padding:0">
        <legend>CarIconList</legend>
        <div>
            <ul>
                <li><button type="button" onclick="carIconList_push()">push</button></li>
                <li><button type="button" onclick="carIconList_remove()">remove</button></li>
                <li><button type="button" onclick="carIconList_setInfoWindowContent()">setInfoWindowContent</button></li>
                <li><button type="button" onclick="carIconList_clear()">clear</button></li>
            </ul>
        </div>
    </fieldset>
    <fieldset style=" list-style:none;height:400px; float:left;">
        <legend>Line</legend>
        <div>
            <ul>
                <li><button type="button" onclick="Line_drawLine()">drawLine</button></li>
                <li><button type="button" onclick="Line_loadLine()">loadLine</button></li>
                <li><button type="button" onclick="Line_getDistance()">getDistance</button></li>
                <li><button type="button" onclick="Line_clear()">clear</button></li>
                <li><button type="button" onclick="Line_addHandlerEvent()">addHandlerEvent</button></li>
                <li><button type="button" onclick="Line_getPath()">getPath</button></li>
                <li><button type="button" onclick="Line_setOptions()">setOptions</button></li>
                <li><button type="button" onclick="Line_setPath()">setPath</button></li>
            </ul>
        </div>
    </fieldset>
    <fieldset style=" list-style:none;height:400px; float:left;">
        <legend>Fence</legend>
        <div>
            <ul>
                <li><button type="button" onclick="Fence_drawFence()">drawFence</button></li>
                <li><button type="button" onclick="Fence_getPath()">getPath</button></li>
                <li><button type="button" onclick="Fence_setOptions()">setOptions</button></li>
                <li><button type="button" onclick="Fence_setPath()">setPath</button></li>
                <li><button type="button" onclick="Fence_loadFence()">loadFence</button></li>
                <li><button type="button" onclick="Fence_loadFenceAndEdit()">loadFenceAndEdit</button></li>
                <li><button type="button" onclick="Fence_clear()">clear</button></li>
            </ul>
        </div>
    </fieldset>
    <fieldset style=" list-style:none; height:400px;float:left;">
        <legend>Circle</legend>
        <div>
            <ul>
                <li><button type="button" onclick="Circle_drawCircle()">drawCircle</button></li>
                <li><button type="button" onclick="Circle_setOptions()">setOptions</button></li>
                <li><button type="button" onclick="Circle_setPath()">setPath</button></li>
                <li><button type="button" onclick="Circle_getPath()">getPath</button></li>
                <li><button type="button" onclick="Circle_loadCircle()">loadCircle</button></li>
                <li><button type="button" onclick="Circle_clear()">clear</button></li>
            </ul>
        </div>
    </fieldset>
    <fieldset style=" list-style:none; height:400px;float:left;">
        <legend>Rectangle</legend>
        <div>
            <ul>
                <li><button type="button" onclick="Rectangle_drawRectangle()">drawRectangle</button></li>
                <li><button type="button" onclick="Rectangle_setOptions()">setOptions</button></li>
                <li><button type="button" onclick="Rectangle_setPath()">setPath</button></li>
                <li><button type="button" onclick="Rectangle_getPath()">getPath</button></li>
                <li><button type="button" onclick="Rectangle_loadRectangle()">loadRectangle</button></li>
                <li><button type="button" onclick="Rectangle_clear()">clear</button></li>
                <li><button type="button" onclick="Screen_shot()">screenshot</button></li>
            </ul>
        </div>
    </fieldset>
    <fieldset style=" list-style:none;height:400px; float:left;">
        <legend>ChangeMapType</legend>
        <select id="sel_maptype" onchange="ChangeMapType()">
         <option value=""></option>
         <option value="GMap_CN">GMap_CN</option>
         <option value="GMap_EN">GMap_EN</option>
         <option value="BMap">BMap</option>
         <option value="LTMap">LTMap</option>
         <option value="BingMap">BingMap</option>
         <option value="SEMap">SEMap</option>
         <option value="SSMap">SSMap</option>
         <option value="MMap">MMap</option>
         <option value="OSMap">OSMap</option>
       </select>
    </fieldset>
    <div style="float:left;width:800px;height:200px;border:1px solid gray;">
        <canvas id="mycavans" width="0" height="0"></canvas>
    </div>
    <div style="width:300px;height:200px;border:1px solid gray;">
        <img id="myimg"></img>
    </div>
</body>

</html>